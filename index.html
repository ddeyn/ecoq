<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>منصة امتحانات الاقتصاد</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts (Cairo) -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    
    <!-- FontAwesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        body {
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1; 
        }
        ::-webkit-scrollbar-thumb {
            background: #888; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555; 
        }

        .glass-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
        }

        .btn-hover {
            transition: all 0.3s cubic-bezier(.25,.8,.25,1);
        }
        .btn-hover:active {
            transform: scale(0.95);
        }

        .option-card {
            transition: all 0.2s ease;
            cursor: pointer;
        }
        .option-card:hover:not(.disabled) {
            background-color: #eff6ff;
            border-color: #3b82f6;
        }

        .correct-answer {
            background-color: #d1fae5 !important;
            border-color: #10b981 !important;
            color: #065f46;
        }
        
        .wrong-answer {
            background-color: #fee2e2 !important;
            border-color: #ef4444 !important;
            color: #991b1b;
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="text-gray-800">

    <div id="app" class="container mx-auto px-4 py-8 min-h-screen flex flex-col items-center justify-center">
        <!-- Content will be injected here by JavaScript -->
    </div>

    <script>
        // --- Data Structure ---
        
        // 2024 Exam Data
        const exam2024 = [
            // True/False
            { id: 1, q: "إذا كان م ح س = 0.7 فإن م ح خ = 0.3.", type: "tf", ans: true, exp: "لأن مجموع الميل الحدي للاستهلاك (MPC) والميل الحدي للادخار (MPS) يساوي الواحد الصحيح (1 - 0.7 = 0.3)." },
            { id: 2, q: "منحنى الناتج الكلي في قانون تناقص الغلة من الدرجة الثانية.", type: "tf", ans: false, exp: "دالة الناتج الكلي تأخذ شكل دالة تكعيبية (من الدرجة الثالثة) لتعبر عن مراحل الإنتاج الثلاث." },
            { id: 3, q: "التضخم يمثل ارتفاع المستوى العام للأسعار مع زيادة القوة الشرائية للنقود.", type: "tf", ans: false, exp: "التضخم هو ارتفاع الأسعار مع انخفاض القوة الشرائية للنقود." },
            { id: 4, q: "المرحلة الثانية من قانون تناقص الغلة هي مرحلة غير اقتصادية.", type: "tf", ans: false, exp: "المرحلة الثانية هي المرحلة الاقتصادية (مرحلة الرشد الاقتصادي) التي يسعى المنتج للعمل فيها." },
            { id: 5, q: "الكليات تكامل الحديات.", type: "tf", ans: true, exp: "رياضياً، القيمة الكلية هي مجموع (تكامل) القيم الحدية." },
            { id: 6, q: "إذا حدث تغير في كل العوامل المؤثرة على الطلب فيما عدا سعر السلعة فإننا نكون بصدد تغير الكمية المطلوبة.", type: "tf", ans: false, exp: "تغير العوامل الأخرى يسمى تغير الطلب (انتقال المنحنى)، أما تغير السعر فقط يسمى 'تغير الكمية المطلوبة'." },
            { id: 7, q: "إذا كانت مرونة الطلب التقاطعية موجبة فإن هذا يعني أن ارتفاع سعر السلعة (ب) سيؤدي إلى ارتفاع الكمية المطلوبة من السلعة (أ).", type: "tf", ans: true, exp: "الإشارة الموجبة تعني أن السلعتين بديلتان (مثل اللحم والدجاج)." },
            { id: 8, q: "إذا تغيرت الكمية المطلوبة من سلعة معينة بنسبة أكبر من التغير الحاصل في سعرها تكون مرونة الطلب السعرية أكبر من الواحد.", type: "tf", ans: true, exp: "هذا تعريف الطلب المرن (الاستجابة قوية)." },
            { id: 9, q: "المرحلة الأولى من قانون النسب المتغيرة غير موجودة في الحياة العملية للمزارع.", type: "tf", ans: true, exp: "لأن المنتج لن يتوقف فيها حيث أن الناتج المتوسط ما زال يتزايد (لم يحقق الكفاءة بعد)." },
            { id: 10, q: "تستخدم مرونة الطلب السعرية في تصنيف السلع إلى ضرورية وكمالية.", type: "tf", ans: false, exp: "مرونة الطلب الدخلية هي التي تصنف السلع، أما السعرية تصنفها (مرن/غير مرن)." },
            { id: 11, q: "مرونة الطلب التقاطعية موجبة للسلع البديلة وسالبة للسلع المتكاملة.", type: "tf", ans: true, exp: "صحيح." },
            { id: 12, q: "عندما تصل المنفعة الكلية لأدناها فإن المنفعة الحدية تساوي صفر.", type: "tf", ans: false, exp: "عندما تصل المنفعة الكلية لأقصاها (Maximum) تكون المنفعة الحدية صفراً." },
            { id: 13, q: "منحنى الاستهلاك الدخلي هو الخط الواصل بين نقط توازن المستهلك في حالة تغير الدخل مع ثبات سعر السلعتين.", type: "tf", ans: true, exp: "صحيح." },
            { id: 14, q: "إذا كان سعر الوحدة من السلعة أ هو 10 جنيه والمنفعة الحدية للنقود 5 جنيه فإن المنفعة الحدية للسلعة هي 15 جنيه.", type: "tf", ans: false, exp: "المنفعة الحدية للسلعة = السعر × منفعة النقود = 10 × 5 = 50 وحدة." },
            { id: 15, q: "تمثل الأسس في دالة الإنتاج كوب - دوجلاس النواتج الحدية للموارد.", type: "tf", ans: false, exp: "تمثل المرونات الإنتاجية للموارد." },
            { id: 16, q: "تعرف التكاليف الثابتة بأنها الفرق بين التكاليف الكلية والتكاليف الحدية.", type: "tf", ans: false, exp: "التكاليف الثابتة = التكاليف الكلية - التكاليف المتغيرة." },
            { id: 17, q: "التكاليف الحدية لا تتأثر بأي حال من الأحوال بالتكاليف الثابتة.", type: "tf", ans: true, exp: "لأن التكاليف الثابتة لا تتغير مع الإنتاج، فاشتقاقها صفر." },
            { id: 18, q: "م م س + م ح س = 1.", type: "tf", ans: false, exp: "المعادلة الصحيحة: م ح س + م ح خ = 1 أو م م س + م م خ = 1." },
            { id: 19, q: "يمكن أن تكون قيمة م ح خ أكبر من الواحد الصحيح وأقل من الصفر.", type: "tf", ans: false, exp: "تتراوح دائماً بين الصفر والواحد." },
            { id: 20, q: "إذا كانت Q = 10 - 3P، وفرض أن P=2، فإن مرونة الطلب السعرية تكون أقل من الوحدة.", type: "tf", ans: false, exp: "عند السعر 2، الكمية = 4. المرونة = -3 × (2/4) = -1.5. القيمة المطلقة 1.5 (أكبر من الواحد/مرن)." },
            { id: 21, q: "يزيد إشباع المستهلك كلما انتقلنا على خريطة منحنيات السواء لأسفل.", type: "tf", ans: false, exp: "يزيد الإشباع كلما انتقلنا لأعلى (بعيداً عن نقطة الأصل)." },
            { id: 22, q: "كل نقطة على منحنى السواء تعكس توليفة من سلعتين تعطي إشباع مختلف.", type: "tf", ans: false, exp: "تعطي نفس الإشباع." },
            { id: 23, q: "يقصد بالعرض المرن أن التغير النسبي في الكمية المعروضة يساوي التغير النسبي في السعر.", type: "tf", ans: false, exp: "هذا تعريف 'متكافئ المرونة'. العرض المرن يكون التغير في الكمية أكبر." },
            { id: 24, q: "من أهداف علم الاقتصاد التنبؤ بالظواهر والتحكم في توجيهها.", type: "tf", ans: true, exp: "صحيح." },
            { id: 25, q: "كل الدراسات الاقتصادية تهتم بدراسة الثروة والإشباع وندرة الموارد.", type: "tf", ans: true, exp: "صحيح." },
            { id: 26, q: "تظهر قيمة السلعة في شكلين هما قيمة منفعتها وقيمة استبدالها.", type: "tf", ans: true, exp: "صحيح." },
            { id: 27, q: "يعني تقسيم العمل تخصص القوة العاملة في العمليات الإنتاجية المختلفة.", type: "tf", ans: true, exp: "صحيح." },
            { id: 28, q: "تهدف السياسة النقدية إلى الرقابة على الائتمان والتأثير فيه.", type: "tf", ans: true, exp: "صحيح." },
            { id: 29, q: "يقصد بالسياسة المالية استخدام الحكومة (وزارة المالية) للضرائب والدين العام.", type: "tf", ans: true, exp: "صحيح." },
            { id: 30, q: "تقسم المشكلة الاقتصادية إلى ثلاث مشاكل: الإنتاج، التخصيص، وتحديد الأولويات.", type: "tf", ans: true, exp: "صحيح." },
            { id: 31, q: "مرونة الطلب الدخلية موجبة للسلع البديلة وسالبة للسلع المتكاملة.", type: "tf", ans: false, exp: "هذا تعريف مرونة الطلب التقاطعية." },
            { id: 32, q: "عندما تصل المنفعة الحدية لأقصاها فإن المنفعة الكلية تساوي صفر.", type: "tf", ans: false, exp: "المنفعة الكلية تساوي صفر عندما تكون المنفعة الحدية سالبة أو عند عدم الاستهلاك." },
            { id: 33, q: "منحنى الاستهلاك الدخلي هو الخط الواصل بين نقط توازن المستهلك في حالة ثبات الدخل مع تغير سعر إحدى السلعتين.", type: "tf", ans: false, exp: "هذا تعريف منحنى الاستهلاك السعري." },
            { id: 34, q: "منحنى الاستهلاك السعري هو الخط الواصل بين نقط توازن المنتج في حالة تغير سعر أحد السلعتين وثبات الدخل.", type: "tf", ans: false, exp: "التعريف صحيح لكن الجملة تقول 'توازن المنتج'، والصحيح 'توازن المستهلك'." },
            { id: 35, q: "إذا كانت دالة العرض Q = 10 + 3P، وعند س=2، فإن المرونة مرنة.", type: "tf", ans: false, exp: "الكمية = 16. المرونة = 3 × (2/16) = 0.375 (أقل من واحد/غير مرن)." },
            { id: 36, q: "تعرف التكاليف الثابتة بأنها الفرق بين التكاليف المتغيرة والتكاليف الحدية.", type: "tf", ans: false, exp: "خطأ." },
            { id: 37, q: "التكاليف الحدية لا تتأثر بأي حال من الأحوال بالتكاليف المتغيرة.", type: "tf", ans: false, exp: "التكلفة الحدية مشتقة من التكلفة المتغيرة (لأن الثابتة لا تتغير)." },
            { id: 38, q: "مضاعف الاستثمار يساوي مقلوب م ح س.", type: "tf", ans: false, exp: "يساوي مقلوب الميل الحدي للادخار (1/MPS)." },
            { id: 39, q: "مضاعف المدفوعات التحويلية عكس مضاعف الضريبة.", type: "tf", ans: true, exp: "التحويلات تزيد الدخل (موجب)، الضرائب تقلل الدخل (سالب)." },
            { id: 40, q: "مضاعف الإنفاق الحكومي يساوي مضاعف الاستثمار.", type: "tf", ans: true, exp: "صحيح." },
            { id: 41, q: "تفسر مرونة الطلب العبورية مدى أهمية السلعة بالنسبة للمستهلك.", type: "tf", ans: false, exp: "العبورية (التقاطعية) تفسر العلاقة بين السلعتين (بديلة/مكملة)." },
            { id: 42, q: "هناك 4 درجات مختلفة النتائج تفسر مرونة العرض.", type: "tf", ans: false, exp: "عادة هي 5 حالات (مرن، غير مرن، متكافئ، عديم، لانهائي)." },
            { id: 43, q: "مرونة التكاليف هي خارج قسمة التكاليف المتوسطة على التكاليف الحدية.", type: "tf", ans: false, exp: "مرونة التكاليف = التكلفة الحدية / التكلفة المتوسطة (MC/AC)." },
            { id: 44, q: "مرونة الإنتاج هي خارج قسمة الناتج المتوسط على الناتج الحدي.", type: "tf", ans: false, exp: "العكس، مرونة الإنتاج = الناتج الحدي / الناتج المتوسط (MP/AP)." },
            { id: 45, q: "تغير الكمية المطلوبة يعني تمدد وانكماش الطلب.", type: "tf", ans: true, exp: "يُطلق عليه تمدد وانكماش على نفس المنحنى." },
            { id: 46, q: "تغير الكمية المعروضة يعني انتقال منحنى العرض بأكمله من مكانه الأصلي.", type: "tf", ans: false, exp: "انتقال المنحنى يسمى 'تغير العرض'." },
            { id: 47, q: "يبعد منحنى التكاليف الكلية عن منحنى التكاليف المتغيرة بمقدار أكبر من التكاليف الثابتة.", type: "tf", ans: false, exp: "يبعد عنه بمقدار يساوي التكاليف الثابتة تماماً." },
            { id: 48, q: "في حالة الاحتكار الكامل ليس للمشتري دور في تعيين السعر عكس المنافسة الكاملة.", type: "tf", ans: true, exp: "صحيح." },
            { id: 49, q: "استخدام التكنولوجيا في الإنتاج الزراعي يؤدي إلى انتقال منحنى الناتج الكلي إلى أعلى.", type: "tf", ans: true, exp: "صحيح." },
            { id: 50, q: "النمط الاستهلاكي للمستهلك أحد العوامل المؤثرة في الطلب على السلعة.", type: "tf", ans: true, exp: "صحيح." },
            { id: 51, q: "تؤثر العادات والتقاليد على الكمية المطلوبة من السلعة.", type: "tf", ans: false, exp: "تؤثر على الطلب (نقل المنحنى)، وليس مجرد 'الكمية المطلوبة' المرتبطة بالسعر." },
            { id: 52, q: "سياسة الضرائب والإعانات تؤثر على الكمية المعروضة من السلعة.", type: "tf", ans: false, exp: "تؤثر على العرض (نقل المنحنى)." },
            { id: 53, q: "من أمثلة التكاليف الثابتة إيجار الأرض وأجور العمال الزراعيين المؤقتين.", type: "tf", ans: false, exp: "إيجار الأرض ثابت، لكن العمالة المؤقتة تكلفة متغيرة." },
            { id: 54, q: "العلاقة بين سلعة الشاي وسلعة السكر هي علاقة تبادلية.", type: "tf", ans: false, exp: "علاقة تكاملية (مكملة)." },
            { id: 55, q: "العلاقة بين سلعة السمك وسلعة الدواجن هي علاقة تبادلية.", type: "tf", ans: true, exp: "صحيح (بديلة)." },
            { id: 56, q: "إذا كان التغير في الإنفاق الاستهلاكي 80 والتغير في الدخل 100 فإن م ح خ = 0.2.", type: "tf", ans: true, exp: "م ح س = 80/100 = 0.8، إذن م ح خ = 1 - 0.8 = 0.2." },
            { id: 57, q: "إذا كان م ح س = 0.3 فإن م م خ = 0.7.", type: "tf", ans: false, exp: "لا علاقة مباشرة ثابتة بين 'الحدي' و'المتوسط' بهذه الطريقة." },
            { id: 58, q: "قانون الطلب يمثل العلاقة العكسية بين السعر والكمية المطلوبة.", type: "tf", ans: true, exp: "صحيح." },
            { id: 59, q: "تفسر مرونة الطلب الدخلية مدى ضرورة السلعة بالنسبة للمستهلك.", type: "tf", ans: true, exp: "تميز بين السلع الضرورية والكمالية." },
            { id: 60, q: "قانون تناقص الغلة يمثل العلاقة الطردية بين السعر وكمية الإنتاج.", type: "tf", ans: false, exp: "يمثل العلاقة بين عنصر الإنتاج المتغير و كمية الناتج." },
            { id: 61, q: "تلعب التجارة الخارجية دور هام في نموذج توازن الدخل القومي المغلق.", type: "tf", ans: false, exp: "النموذج 'المغلق' لا توجد به تجارة خارجية." },
            { id: 62, q: "يمثل منحنى السواء مختلف التوليفات من الموردين التي تعطي نفس القدر من الإشباع.", type: "tf", ans: false, exp: "توليفات من السلعتين (وليس الموردين)." },
            { id: 63, q: "خريطة الإنتاج هي التي تضم أكثر من منحنى سواء على نفس المحورين.", type: "tf", ans: false, exp: "تضم منحنيات ناتج متساوي." },
            { id: 64, q: "يمثل منحنى الناتج المتساوي مختلف التوليفات من السلعتين التي تحقق نفس القدر من الإنتاج.", type: "tf", ans: false, exp: "توليفات من الموردين (عناصر الإنتاج) وليس السلع." },
            { id: 65, q: "خريطة السواء هي التي تضم أكثر من منحنى ناتج متساوي على نفس المحورين.", type: "tf", ans: false, exp: "تضم منحنيات سواء." },
            { id: 66, q: "أول من شرح العلاقة بين الاستهلاك والدخل هو الاقتصادي الأمريكي اللورد كينز.", type: "tf", ans: true, exp: "صحيح." },
            { id: 67, q: "كلما زاد الاستهلاك زاد الدخل بنسبة أكبر من زيادة الاستهلاك.", type: "tf", ans: false, exp: "العكس هو الأقرب للصحة (كلما زاد الدخل زاد الاستهلاك)." },
            { id: 68, q: "الدول النامية هي التي تستخدم رأس المال في الإنتاج أكثر من الدول المتقدمة.", type: "tf", ans: false, exp: "تستخدم العمل أكثر (كثيفة العمالة)." },
            { id: 69, q: "كلما انخفضت الكمية المطلوبة كلما زاد السعر.", type: "tf", ans: false, exp: "حسب قانون الطلب، السعر هو المتغير المستقل؛ (كلما زاد السعر، انخفضت الكمية)." },
            { id: 70, q: "إذا تغيرت الكمية المطلوبة بنسبة أكبر من التغير في السعر فإن مرونة الطلب الدخلية تكون أكبر من الواحد الصحيح.", type: "tf", ans: false, exp: "إذا تغيرت الكمية بنسبة أكبر من السعر فهذا 'طلب مرن' (مرونة سعرية)، وليس 'دخلية'." },

            // MCQ
            { id: 71, q: "من شروط المنافسة الكاملة:", type: "mcq", options: ["عدد كبير من البائعين والمشترين", "تجانس السلعة المنتجة", "عدم قدرة البائع أو المشتري على التحكم في السعر", "كل ما سبق"], correct: 3, exp: "هذه هي الشروط الأساسية لسوق المنافسة الكاملة." },
            { id: 72, q: "من شروط الاحتكار الكامل:", type: "mcq", options: ["بائع واحد", "السلعة ليس لها بديل", "التحكم في السعر", "كل ما سبق"], correct: 3, exp: "كل ما سبق." },
            { id: 73, q: "تفسر مرونة الطلب المتقاطعة:", type: "mcq", options: ["تنافس السلع لبعضها", "تكامل السلع", "استقلال السلع", "كل ما سبق"], correct: 3, exp: "لأنها قد تكون موجبة (تنافس/بدائل)، سالبة (تكامل)، أو صفر (مستقلة)." },
            { id: 74, q: "تتوقف درجة اختلاف الأسواق على:", type: "mcq", options: ["تجانس السلعة", "عدد البائعين والمشترين", "تعاون أو استقلال البائعين والمشترين", "كل ما سبق"], correct: 3, exp: "كل ما سبق." },
            { id: 75, q: "محتويات منهج مبادئ الاقتصاد الذي درسته تقسم إلى:", type: "mcq", options: ["اقتصاد جزئي وكلي", "اقتصاد كلي فقط", "اقتصاد جزئي فقط", "أ، ب، ج"], correct: 0, exp: "اقتصاد جزئي وكلي." },
            { id: 76, q: "يمثل الجزء من منحنى التكاليف الحدية وهي صاعدة لأعلى:", type: "mcq", options: ["منحنى الناتج الحدي", "منحنى الطلب", "منحنى العرض", "لا شيء مما سبق"], correct: 2, exp: "في المدى القصير، منحنى عرض المنشأة هو منحنى التكلفة الحدية (MC) فوق نقطة الإغلاق." },
            { id: 77, q: "المرونات الإنتاجية في قانون النسب المتغيرة محصورة بين:", type: "mcq", options: ["موجب أو سالب الواحد الصحيح", "موجب أو سالب ما لا نهاية", "كل ما سبق", "لا شيء مما سبق"], correct: 2, exp: "كل ما سبق (نظرياً تشمل كل المراحل، لكن المرحلة الاقتصادية بين 0 و1)." },
            { id: 78, q: "منحنى الناتج الحدي يكون أعلى من منحنى الناتج المتوسط في قانون تناقص الغلة:", type: "mcq", options: ["عند نهاية المرحلة الأولى", "عند نهاية المرحلة الثانية", "بين المرحلة الأولى والثانية", "لا شيء مما سبق"], correct: 0, exp: "عند نهاية المرحلة الأولى (أو خلال المرحلة الأولى)." },
            { id: 79, q: "متوسط التكاليف الكلية يساوي:", type: "mcq", options: ["قسمة التكاليف الكلية على الوحدات المنتجة", "حاصل جمع متوسط كل من التكاليف الثابتة والمتغيرة", "أ ، ب", "كل ما سبق"], correct: 3, exp: "كل ما سبق (التعريفين صحيحين رياضياً)." },
            { id: 80, q: "تمثل نقطة تماس منحنى الناتج المتساوي مع خط التكاليف:", type: "mcq", options: ["نقطة توازن المنتج", "نقطة توازن المستهلك", "كل ما سبق", "لا شيء مما سبق"], correct: 0, exp: "نقطة توازن المنتج." },
            { id: 81, q: "يتكون من عنصرين هما الرغبة في الشراء والقدرة على السداد:", type: "mcq", options: ["العرض الفعال", "الطلب الفعال", "لا شيء مما سبق", "كل ما سبق"], correct: 1, exp: "الطلب الفعال." },
            { id: 82, q: "الانتقال من نقطة لأخرى على نفس منحنى الطلب:", type: "mcq", options: ["تغير الطلب", "التغير في الكمية المطلوبة", "لا شيء مما سبق", "كل ما سبق"], correct: 1, exp: "التغير في الكمية المطلوبة." },
            { id: 83, q: "انتقال منحنى العرض بأكمله لأعلى أو أسفل منحنى العرض الأصلي:", type: "mcq", options: ["تمدد وانكماش العرض", "تغير العرض", "لا شيء مما سبق", "كل ما سبق"], correct: 1, exp: "تغير العرض." },
            { id: 84, q: "الأرض والعمل ورأس المال والإدارة:", type: "mcq", options: ["العوامل المحددة للعرض", "العوامل المحددة للطلب", "لا شيء مما سبق", "كل ما سبق"], correct: 0, exp: "العوامل المحددة للعرض (لأن تكلفتها تحدد العرض)." },
            { id: 85, q: "تمثل التغير النسبي في الكمية المطلوبة من سلعة معينة نتيجة التغير النسبي في الدخل:", type: "mcq", options: ["مرونة الطلب التقاطعية", "مرونة الطلب السعرية", "المرونة الدخلية", "كل ما سبق"], correct: 2, exp: "المرونة الدخلية." },
            { id: 86, q: "تمثل مدى استجابة التغير في المتغير التابع نتيجة التغير في المتغير المستقل:", type: "mcq", options: ["المرونة كمقياس", "مرونة الطلب", "لا شيء مما سبق", "كل ما سبق"], correct: 0, exp: "المرونة كمقياس (التعريف العام)." },
            { id: 87, q: "تمثل تفاضل الكليات:", type: "mcq", options: ["الحديات", "المنفعة الحدية", "لا شيء مما سبق", "كل ما سبق"], correct: 0, exp: "الحديات (بشكل عام)." },
            { id: 88, q: "مدفوعات إجبارية من الأفراد للحكومة:", type: "mcq", options: ["الدعم", "الضرائب", "لا شيء مما سبق", "كل ما سبق"], correct: 1, exp: "الضرائب." },
            { id: 89, q: "مدفوعات من الحكومة للأفراد:", type: "mcq", options: ["الدعم", "الضرائب", "لا شيء مما سبق", "كل ما سبق"], correct: 0, exp: "الدعم (أو المدفوعات التحويلية)." },
            { id: 90, q: "الانتقال من نقطة لأخرى على نفس منحنى الطلب تمثل:", type: "mcq", options: ["التغير في الكمية المطلوبة", "تمدد وانكماش الطلب", "أ ، ب", "لا شيء مما سبق"], correct: 2, exp: "أ، ب (كلاهما نفس المعنى)." },
            { id: 91, q: "انتقال منحنى العرض بأكمله من مكان لآخر يمثل:", type: "mcq", options: ["تمدد العرض", "انكماش العرض", "تغير العرض", "لا شيء مما سبق"], correct: 2, exp: "تغير العرض." },
            { id: 92, q: "من شروط نقطة توازن المنتج في سوق المنافسة التامة:", type: "mcq", options: ["السعر = العائد الحدي = التكاليف الحدية", "العائد الحدي = التكاليف الحدية", "الإيراد الكلي = التكاليف الكلية", "كل ما سبق"], correct: 0, exp: "P = MR = MC." },
            { id: 93, q: "من شروط نقطة توازن المنتج في سوق الاحتكار:", type: "mcq", options: ["سعر السوق أعلى من الإيراد الحدي", "الإيراد الحدي = التكاليف الحدية", "الإيراد المتوسط = التكاليف المتوسطة", "لا شيء مما سبق"], correct: 1, exp: "الإيراد الحدي = التكاليف الحدية (الشرط العام للتوازن MR=MC)." },
            { id: 94, q: "يختص علم Macroeconomic بدراسة:", type: "mcq", options: ["المشروعات القومية", "المشروعات الخاصة الصغيرة", "كل ما سبق", "لا شيء مما سبق"], correct: 0, exp: "المشروعات القومية (الاقتصاد الكلي)." },
            { id: 95, q: "في نموذج اقتصادي من قطاعين شرط توازن الدخل هو:", type: "mcq", options: ["الادخار أكبر من الاستثمار", "الادخار أقل من الاستثمار", "الادخار يساوي الاستثمار", "لا شيء مما سبق"], correct: 2, exp: "الادخار يساوي الاستثمار (S=I)." },
            { id: 96, q: "في نموذج مكون من 3 قطاعات يتحقق المستوى التوازني للدخل عندما:", type: "mcq", options: ["S+T = I+G", "S+T > I+G", "S+T < I+G", "لا شيء مما سبق"], correct: 0, exp: "S+T = I+G (الادخار + الضرائب = الاستثمار + الإنفاق الحكومي)." },
            { id: 97, q: "الميل الحدي للاستهلاك هو:", type: "mcq", options: ["معدل التغير في الاستهلاك نتيجة التغير في الدخل", "معدل التغير في الادخار", "مقلوب الميل الحدي للادخار", "كل ما سبق"], correct: 0, exp: "معدل التغير في الاستهلاك نتيجة التغير في الدخل." },
            { id: 98, q: "الميل المتوسط للاستهلاك هو:", type: "mcq", options: ["حاصل طرح الميل الحدي للادخار من الواحد الصحيح", "حاصل طرح الميل المتوسط للادخار من الواحد الصحيح", "كل ما سبق", "لا شيء مما سبق"], correct: 1, exp: "حاصل طرح الميل المتوسط للادخار من الواحد الصحيح (APC = 1 - APS)." },
            { id: 99, q: "يختص علم Microeconomic بدراسة:", type: "mcq", options: ["المشروعات القومية", "المشروعات الخاصة الصغيرة", "المشروعات العامة", "كل ما سبق"], correct: 1, exp: "المشروعات الخاصة الصغيرة (الاقتصاد الجزئي)." },
            { id: 100, q: "بنود الإنفاق القومي:", type: "mcq", options: ["الإنفاق الاستهلاكي والحكومي", "الإنفاق الاستثماري", "الإنفاق الخارجي", "كل ما سبق"], correct: 3, exp: "كل ما سبق." },
            { id: 101, q: "يمثل العلاقة بين موردين:", type: "mcq", options: ["منحنى السواء", "منحنى الناتج الكلي", "منحنى الناتج المتساوي", "لا شيء مما سبق"], correct: 2, exp: "منحنى الناتج المتساوي (Isoquant)." },
            { id: 102, q: "يمثل العلاقة بين سلعتين:", type: "mcq", options: ["منحنى السواء", "منحنى الاستهلاك", "منحنى الناتج المتساوي", "لا شيء مما سبق"], correct: 0, exp: "منحنى السواء (Indifference Curve)." },
            { id: 103, q: "يمثل العلاقة بين المورد المتغير ومقدار الإنتاج:", type: "mcq", options: ["منحنى التكاليف الكلية", "منحنى الناتج الكلي", "منحنى المنفعة الكلية", "لا شيء مما سبق"], correct: 1, exp: "منحنى الناتج الكلي (Production Function)." },
            { id: 104, q: "يمثل العلاقة بين مقدار الإنتاج والتكاليف:", type: "mcq", options: ["منحنى التكاليف الكلية", "منحنى الناتج الكلي", "منحنى المنفعة الكلية", "لا شيء مما سبق"], correct: 0, exp: "منحنى التكاليف الكلية." },
            { id: 105, q: "من درجات مرونة الطلب:", type: "mcq", options: ["متكافئ", "عديم", "مرن نسبياً وغير مرن", "كل ما سبق"], correct: 3, exp: "كل ما سبق." },
            { id: 106, q: "من أنواع مرونات الطلب:", type: "mcq", options: ["سعرية", "تقاطعية", "دخلية", "كل ما سبق"], correct: 3, exp: "كل ما سبق." },
            { id: 107, q: "وفقاً لقانون الطلب فإن الكمية المطلوبة من سلعة خلال فترة زمنية معينة:", type: "mcq", options: ["تزيد مع زيادة الأسعار", "تزيد مع انخفاض الأسعار", "لا تتغير", "لا شيء مما سبق"], correct: 1, exp: "تزيد مع انخفاض الأسعار." },
            { id: 108, q: "انكماش الطلب من سلعة ما يعكس:", type: "mcq", options: ["انخفاض الدخل", "ارتفاع سعر السلعة", "انخفاض سعر السلعة", "ارتفاع الدخل"], correct: 1, exp: "ارتفاع سعر السلعة." },
            { id: 109, q: "بفرض أن موبايل نوكيا وسامسونج بدائل لبعضهما وزيادة سعر نوكيا يؤدي إلى:", type: "mcq", options: ["انخفاض الطلب على سامسونج", "زيادة الطلب على سامسونج", "ثبات الطلب", "لا شيء مما سبق"], correct: 1, exp: "زيادة الطلب على سامسونج." },
            { id: 110, q: "مرونة الطلب السعرية دائماً:", type: "mcq", options: ["موجبة الإشارة", "سالبة الإشارة", "أقل من الوحدة", "لا شيء مما سبق"], correct: 1, exp: "سالبة الإشارة (بسبب العلاقة العكسية)." },
            { id: 111, q: "بما أن لحوم الأبقار تعد بدائل للحوم الدواجن فإن ارتفاع سعر لحوم الأبقار يؤدي إلى:", type: "mcq", options: ["انتقال منحنى الطلب على الدجاج لليسار", "انتقال منحنى الطلب على الدجاج لليمين", "لا يحدث تغير", "لا شيء مما سبق"], correct: 1, exp: "انتقال منحنى الطلب على الدجاج لليمين (زيادة الطلب)." },
            { id: 112, q: "إذا كانت مرونة الطلب العبورية موجبة تكون السلعة:", type: "mcq", options: ["عادية", "رديئة", "مكملة", "تبادلية"], correct: 3, exp: "تبادلية (بديلة)." },
            { id: 113, q: "يوضح منحنى العرض:", type: "mcq", options: ["ارتفاع العرض مع ارتفاع السعر", "انخفاض العرض مع انخفاض السعر", "أ ، ب", "لا شيء مما سبق"], correct: 2, exp: "أ و ب صحيحان (علاقة طردية)." },
            { id: 114, q: "الدخل المتاح هو:", type: "mcq", options: ["الدخل القومي - الضرائب", "الدخل القومي - الإعانات", "الدخل القومي + الضرائب", "لا شيء مما سبق"], correct: 0, exp: "الدخل القومي - الضرائب." },
            { id: 115, q: "نقطة تماس منحنى السواء مع خط الدخل أو الميزانية:", type: "mcq", options: ["نقطة توازن المستهلك", "منحنى الاستهلاك الدخلي", "لا شيء مما سبق", "كل ما سبق"], correct: 0, exp: "نقطة توازن المستهلك." },
            { id: 116, q: "تم استبدال منظمة GATT بمنظمة:", type: "mcq", options: ["GAFTA", "WTO", "FAO", "لا شيء مما سبق"], correct: 1, exp: "WTO (منظمة التجارة العالمية)." },
            { id: 117, q: "تهدف منظمة WTO إلى:", type: "mcq", options: ["حماية التجارة الدولية", "حرية التجارة الدولية", "لا شيء مما سبق", "كل ما سبق"], correct: 1, exp: "حرية التجارة الدولية." },
            { id: 118, q: "تم تغيير مسمى السوق الأوروبية المشتركة EEC إلى الاتحاد الأوروبي EU بتاريخ:", type: "mcq", options: ["يناير 1994", "يناير 1995", "يناير 1996", "لا شيء مما سبق"], correct: 3, exp: "لا شيء مما سبق (اتفاقية ماستريخت دخلت حيز التنفيذ نوفمبر 1993)." },
            { id: 119, q: "عدد الدول الأعضاء في الاتحاد الأوروبي:", type: "mcq", options: ["25 دولة", "30 دولة", "28 دولة", "لا شيء مما سبق"], correct: 3, exp: "لا شيء مما سبق." },
            { id: 120, q: "مقر منظمة التجارة العالمية WTO هو مدينة:", type: "mcq", options: ["بروكسل", "باريس", "لندن", "لا شيء مما سبق"], correct: 3, exp: "لا شيء مما سبق (المقر في جنيف)." }
        ];

        // 2023 Exam Data
        const exam2023 = [
            // True/False
            { id: 1, q: "يزيد إشباع المستهلك كلما انتقلنا على خريطة منحنيات السواء لأسفل.", type: "tf", ans: false, exp: "لأسفل تعني كميات أقل، الإشباع يزيد بالانتقال لأعلى." },
            { id: 2, q: "التضخم يمثل ارتفاع المستوى العام للأسعار مع انخفاض القوة الشرائية للنقود.", type: "tf", ans: true, exp: "صحيح." },
            { id: 3, q: "الأسس في دالة الإنتاج كوب دوجلاس تمثل المرونات الإنتاجية لمتغيرات الدالة.", type: "tf", ans: true, exp: "صحيح." },
            { id: 4, q: "إذا كان التغير في الإنفاق الاستهلاكي يساوي 8 جنيه والتغير في الدخل 10 جنيه فإن م ح م = 0.8.", type: "tf", ans: true, exp: "8/10 = 0.8." },
            { id: 5, q: "مضاعف الاستثمار هو مقلوب الميل الحدي للاستهلاك.", type: "tf", ans: false, exp: "هو مقلوب الميل الحدي للادخار." },
            { id: 6, q: "قانون تناقص الغلة هو نفسه قانون النسب المتغيرة.", type: "tf", ans: true, exp: "صحيح." },
            { id: 7, q: "هناك علاقة عكسية بين الميل الحدي للاستهلاك والميل الحدي للادخار.", type: "tf", ans: true, exp: "لأن مجموعهما يساوي 1." },
            { id: 8, q: "منحنى الطلب عديم المرونة يكون موازي للمحور الأفقي.", type: "tf", ans: false, exp: "عديم المرونة يكون رأسياً (عمودياً)." },
            { id: 9, q: "منحنى المنفعة الحدية سالب الميل.", type: "tf", ans: true, exp: "صحيح." },
            { id: 10, q: "الناتج الحدي هو تفاضل الناتج الكلي.", type: "tf", ans: true, exp: "صحيح." },
            { id: 11, q: "المنفعة الحدية هي المشتقة الأولى للمنفعة الكلية.", type: "tf", ans: true, exp: "صحيح." },
            { id: 12, q: "الدخل الحقيقي للفرد هو كمية السلع والخدمات التي يحصل عليها الفرد نتيجة انفاقه لدخله النقدي.", type: "tf", ans: true, exp: "صحيح." },
            { id: 13, q: "الشاي والسكر سلعتان بديلتان لبعضهما.", type: "tf", ans: false, exp: "سلع مكملة." },
            { id: 14, q: "الدواجن والأسماك سلع إحلالية لبعضها.", type: "tf", ans: true, exp: "صحيح." },
            { id: 15, q: "المرونة كمقياس تمثل مدى التغير في المتغير المستقل نتيجة التغير في المتغير التابع.", type: "tf", ans: false, exp: "العكس؛ التغير في التابع نتيجة المستقل." },
            { id: 16, q: "دالة الإنتاج هي العلاقة الفنية الطبيعية بين موارد الإنتاج وحجم الإنتاج.", type: "tf", ans: true, exp: "صحيح." },
            { id: 17, q: "الاهتمام بجودة المنتجات الزراعية المصرية يزيد من فرصة الإقبال عليها في الأسواق الخارجية.", type: "tf", ans: true, exp: "صحيح." },
            { id: 18, q: "مرونة الإنتاج هي النسبة بين الناتج الحدي والناتج المتوسط.", type: "tf", ans: true, exp: "E = MP/AP." },
            { id: 19, q: "مضاعف المدفوعات التحويلية عكس مضاعف الضريبة.", type: "tf", ans: true, exp: "صحيح." },
            { id: 20, q: "مضاعف الاستثمار هو مقلوب الميل الحدي للادخار.", type: "tf", ans: true, exp: "صحيح." },
            { id: 21, q: "في التوازن السوقي الكمية المطلوبة تكون أكبر من الكمية المعروضة.", type: "tf", ans: false, exp: "تكون متساوية." },
            { id: 22, q: "كل نقطة على منحنى السواء تعكس توليفة من سلعتين تعطي إشباع مختلف.", type: "tf", ans: false, exp: "نفس الإشباع." },
            { id: 23, q: "يقصد بالعرض المرن أن التغير النسبي في الكمية المعروضة يساوي التغير النسبي في السعر.", type: "tf", ans: false, exp: "خطأ." },
            { id: 24, q: "من أهداف علم الاقتصاد التنبؤ بالظواهر والتحكم في توجيهها.", type: "tf", ans: true, exp: "صحيح." },
            { id: 25, q: "كل الدراسات الاقتصادية تهتم بدراسة الثروة والإشباع وندرة الموارد.", type: "tf", ans: true, exp: "صحيح." },
            { id: 26, q: "تظهر قيمة السلعة في شكلين هما قيمة منفعتها وقيمة استبدالها.", type: "tf", ans: true, exp: "صحيح." },
            { id: 27, q: "يعني تقسيم العمل تخصص القوة العاملة في العمليات الإنتاجية المختلفة.", type: "tf", ans: true, exp: "صحيح." },
            { id: 28, q: "الدالة Q = 5/P هي دالة طلب.", type: "tf", ans: true, exp: "علاقة عكسية." },
            { id: 29, q: "مضاعف الاستثمار هو مقلوب الميل الحدي للاستهلاك.", type: "tf", ans: false, exp: "خطأ." },
            { id: 30, q: "تقسم المشكلة الاقتصادية إلى ثلاث مشاكل (الإنتاج، التخصيص، الأولويات).", type: "tf", ans: true, exp: "صحيح." },
            { id: 31, q: "مرونة الطلب الدخلية موجبة للسلع البديلة وسالبة للسلع المتكاملة.", type: "tf", ans: false, exp: "هذا تعريف التقاطعية." },
            { id: 32, q: "عندما تصل المنفعة الحدية لأقصاها فإن المنفعة الكلية تساوي صفر.", type: "tf", ans: false, exp: "خطأ." },
            { id: 33, q: "منحنى الاستهلاك الدخلي هو الخط الواصل بين نقط توازن المستهلك في حالة ثبات الدخل مع تغير سعر إحدى السلعتين.", type: "tf", ans: false, exp: "خطأ." },
            { id: 34, q: "منحنى الاستهلاك السعري هو الخط الواصل بين نقط توازن المنتج في حالة تغير سعر أحد السلعتين وثبات الدخل.", type: "tf", ans: false, exp: "توازن المستهلك." },
            { id: 35, q: "الدخل الشخصي التصرفي المتاح يمثل إجمالي الدخل الفردي مطروح منه الضرائب.", type: "tf", ans: true, exp: "صحيح." },
            { id: 36, q: "مضاعف الضريبة عكس مضاعف المدفوعات التحويلية.", type: "tf", ans: true, exp: "صحيح." },
            { id: 37, q: "م ح س = 1 - م ح خ.", type: "tf", ans: true, exp: "صحيح." },
            { id: 38, q: "م م س + م ح خ = 1.", type: "tf", ans: false, exp: "يجب أن يكونا من نفس النوع." },
            { id: 39, q: "يمكن أن تكون قيمة م ح خ أكبر من الواحد الصحيح وأقل من الصفر.", type: "tf", ans: false, exp: "خطأ." },
            { id: 40, q: "إذا كان التغير في الإنفاق الاستهلاكي 8 جنيه والتغير في الدخل 10 جنيه فإن م ح خ = 0.2.", type: "tf", ans: true, exp: "1 - 0.8 = 0.2." },
            { id: 41, q: "إذا كان م ح م (س) = 0.7 فإن م م خ = 0.3.", type: "tf", ans: false, exp: "خطأ." },
            { id: 42, q: "قانون الطلب يمثل العلاقة العكسية بين السعر والكمية المطلوبة.", type: "tf", ans: true, exp: "صحيح." },
            { id: 43, q: "قانون تناقص الغلة يمثل العلاقة الطردية بين السعر وكمية الإنتاج.", type: "tf", ans: false, exp: "خطأ." },
            { id: 44, q: "تلعب التجارة الخارجية دور هام في نموذج توازن الدخل القومي المغلق.", type: "tf", ans: false, exp: "خطأ." },
            { id: 45, q: "يمثل منحنى السواء مختلف التوليفات من الموردين التي تعطي نفس القدر من الإشباع.", type: "tf", ans: false, exp: "توليفات من السلع." },
            { id: 46, q: "خريطة الإنتاج هي التي تضم أكثر من منحنى سواء على نفس المحورين.", type: "tf", ans: false, exp: "تضم منحنيات ناتج متساوي." },
            { id: 47, q: "يمثل منحنى الناتج المتساوي مختلف التوليفات من السلعتين التي تحقق نفس القدر من الإنتاج.", type: "tf", ans: false, exp: "توليفات من الموارد." },
            { id: 48, q: "خريطة السواء هي التي تضم أكثر من منحنى ناتج متساوي على نفس المحورين.", type: "tf", ans: false, exp: "خطأ." },
            { id: 49, q: "أول من شرح العلاقة بين الاستهلاك والدخل هو كينز.", type: "tf", ans: true, exp: "صحيح." },
            { id: 50, q: "مرونة الطلب التقاطعية موجبة للسلع البديلة وسالبة للسلع المتكاملة.", type: "tf", ans: true, exp: "صحيح." },
            { id: 51, q: "عندما تصل المنفعة الكلية لأدناها فإن المنفعة الحدية تساوي صفر.", type: "tf", ans: false, exp: "لأقصاها." },
            { id: 52, q: "منحنى الاستهلاك الدخلي هو الخط الواصل بين نقط توازن المستهلك في حالة تغير الدخل مع ثبات سعر إحدى السلعتين.", type: "tf", ans: true, exp: "صحيح." },
            { id: 53, q: "إذا كان سعر الوحدة أ = 10 والمنفعة الحدية للنقود 5 فإن منفعة السلعة 15.", type: "tf", ans: false, exp: "50." },
            { id: 54, q: "تمثل الأسس في دالة كوب دوجلاس النواتج الحدية للموارد.", type: "tf", ans: false, exp: "خطأ." },
            { id: 55, q: "الدالة Q = P/5 هي دالة عرض.", type: "tf", ans: true, exp: "علاقة طردية خطية." },
            { id: 56, q: "إذا كانت Q = 10 + 2P وس=2، فإن المرونة غير مرنة.", type: "tf", ans: true, exp: "Q=14, المرونة = 2 × 2/14 = 0.28." },
            { id: 57, q: "م م س + م ح س = 1.", type: "tf", ans: false, exp: "خطأ." },
            { id: 58, q: "يمكن أن تكون قيمة م ح خ أكبر من الواحد وأقل من الصفر.", type: "tf", ans: false, exp: "خطأ." },
            { id: 59, q: "إذا كانت Q = 10 - 3P وس=2 فإن المرونة أقل من الوحدة.", type: "tf", ans: false, exp: "حسبناها سابقاً 1.5 وهي أكبر من الوحدة." },
            { id: 60, q: "إذا كان م ح س = 0.7 فإن م ح خ = 0.3.", type: "tf", ans: true, exp: "صحيح." },

            // MCQ
            { id: 61, q: "من خصائص منحنى السواء:", type: "mcq", options: ["موجب الميل", "سالب الميل", "محدب تجاه نقطة الأصل", "ب، ج"], correct: 3, exp: "ب و ج." },
            { id: 62, q: "من خصائص منحنى الطلب:", type: "mcq", options: ["موجب الميل", "سالب الميل", "محدب تجاه نقطة الأصل", "ب، ج"], correct: 1, exp: "سالب الميل." },
            { id: 63, q: "من خصائص منحنى العرض:", type: "mcq", options: ["موجب الميل", "سالب الميل", "محدب", "ب، ج"], correct: 0, exp: "موجب الميل." },
            { id: 64, q: "في حالة السلع العادية ترتبط التغيرات في الاستهلاك مع التغيرات في الدخل:", type: "mcq", options: ["عكسياً", "طردياً", "كل ما سبق", "لا شيء مما سبق"], correct: 1, exp: "طردياً." },
            { id: 65, q: "في حالة السلع الرديئة ترتبط التغيرات في الاستهلاك مع التغيرات في الدخل:", type: "mcq", options: ["عكسياً", "طردياً", "لا شيء مما سبق", "كل ما سبق"], correct: 0, exp: "عكسياً." },
            { id: 66, q: "إذا كانت المرونة الدخلية أكبر من الواحد الصحيح فإن السلعة:", type: "mcq", options: ["ضرورية", "كمالية", "غير ذات قيمة", "لا شيء مما سبق"], correct: 1, exp: "كمالية." },
            { id: 67, q: "إذا كانت المرونة الدخلية أقل من الواحد الصحيح فإن السلعة:", type: "mcq", options: ["ضرورية", "كمالية", "لا شيء مما سبق", "كل ما سبق"], correct: 0, exp: "ضرورية." },
            { id: 68, q: "يتكون من عنصرين هما الرغبة في الشراء والقدرة على السداد:", type: "mcq", options: ["العرض الفعال", "الطلب الفعال", "لا شيء", "كل ما سبق"], correct: 1, exp: "الطلب الفعال." },
            { id: 69, q: "الانتقال من نقطة لأخرى على نفس منحنى الطلب:", type: "mcq", options: ["تغير الطلب", "التغير في الكمية المطلوبة", "لا شيء", "كل ما سبق"], correct: 1, exp: "التغير في الكمية المطلوبة." },
            { id: 70, q: "انتقال منحنى العرض بأكمله لأعلى أو أسفل:", type: "mcq", options: ["تمدد وانكماش العرض", "تغير العرض", "لا شيء", "كل ما سبق"], correct: 1, exp: "تغير العرض." },
            { id: 71, q: "الأرض والعمل ورأس المال والإدارة:", type: "mcq", options: ["العوامل المحددة للعرض", "العوامل المحددة للطلب", "لا شيء", "كل ما سبق"], correct: 0, exp: "العوامل المحددة للعرض." },
            { id: 72, q: "تمثل التغير النسبي في الكمية المطلوبة نتيجة التغير النسبي في الدخل:", type: "mcq", options: ["المرونة التقاطعية", "المرونة الدخلية", "المرونة السعرية", "لا شيء"], correct: 1, exp: "المرونة الدخلية." },
            { id: 73, q: "تمثل مدى استجابة التغير في المتغير التابع نتيجة التغير في المتغير المستقل:", type: "mcq", options: ["المرونة كمقياس", "مرونة الطلب", "لا شيء", "كل ما سبق"], correct: 0, exp: "المرونة كمقياس." },
            { id: 74, q: "نقطة تماس منحنى السواء مع خط الدخل أو الميزانية:", type: "mcq", options: ["نقطة توازن المستهلك", "منحنى الاستهلاك الدخلي", "لا شيء", "كل ما سبق"], correct: 0, exp: "نقطة توازن المستهلك." },
            { id: 75, q: "تمثل تفاضل الكليات:", type: "mcq", options: ["الحديات", "المنفعة الحدية", "لا شيء", "كل ما سبق"], correct: 0, exp: "الحديات." },
            { id: 76, q: "مدفوعات إجبارية من الأفراد للحكومة:", type: "mcq", options: ["الدعم", "الضرائب", "لا شيء", "كل ما سبق"], correct: 1, exp: "الضرائب." },
            { id: 77, q: "مدفوعات من الحكومة للأفراد:", type: "mcq", options: ["الدعم", "الضرائب", "لا شيء", "كل ما سبق"], correct: 0, exp: "الدعم." },
            { id: 78, q: "من شروط المنافسة الكاملة:", type: "mcq", options: ["عدد كبير من البائعين والمشترين", "تجانس السلعة", "عدم قدرة البائع", "كل ما سبق"], correct: 3, exp: "كل ما سبق." },
            { id: 79, q: "من شروط الاحتكار الكامل:", type: "mcq", options: ["بائع واحد", "ليس لها بديل", "التحكم في السعر", "كل ما سبق"], correct: 3, exp: "كل ما سبق." },
            { id: 80, q: "تفسر مرونة الطلب المتقاطعة:", type: "mcq", options: ["تنافسية السلع", "تكامل السلع", "استقلال السلع", "كل ما سبق"], correct: 3, exp: "كل ما سبق." },
            { id: 81, q: "إذا كان م ح س = 0.5 فإن مضاعف الاستثمار يساوي:", type: "mcq", options: ["1", "2", "0.5", "لا شيء مما سبق"], correct: 1, exp: "المضاعف = 1 / (1-0.5) = 2." },
            { id: 82, q: "محتويات منهج مبادئ الاقتصاد تقسم إلى:", type: "mcq", options: ["جزئي", "كلي", "جزئي فقط", "أ، ب"], correct: 3, exp: "جزئي وكلي." },
            { id: 83, q: "إذا كان م ح س = 0.5 فإن مضاعف الإنفاق الحكومي يساوي:", type: "mcq", options: ["2", "-2", "0.5", "-0.5"], correct: 0, exp: "مضاعف الحكومة نفس مضاعف الاستثمار." },
            { id: 84, q: "المرونات الإنتاجية في قانون النسب المتغيرة محصورة بين:", type: "mcq", options: ["موجب أو سالب الواحد الصحيح", "موجب أو سالب مالا نهاية", "كل ما سبق", "لا شيء"], correct: 2, exp: "كل ما سبق." },
            { id: 85, q: "منحنى الناتج الحدي يكون أعلى من منحنى الناتج المتوسط في:", type: "mcq", options: ["عند نهاية المرحلة الأولى", "عند نهاية المرحلة الثانية", "بين المرحلة الأولى والثانية", "لا شيء"], correct: 0, exp: "عند نهاية المرحلة الأولى (خلال المرحلة الأولى)." },
            { id: 86, q: "إذا كان م ح س = 0.5 فإن مضاعف الضريبة يساوي:", type: "mcq", options: ["1", "-1", "0.5", "-0.5"], correct: 1, exp: "-MPC / (1-MPC) = -0.5/0.5 = -1." },
            { id: 87, q: "تمثل نقطة تماس منحنى الناتج المتساوي مع خط التكاليف:", type: "mcq", options: ["توازن المنتج", "توازن المستهلك", "كل ما سبق", "لا شيء"], correct: 0, exp: "توازن المنتج." },
            { id: 88, q: "الانتقال من نقطة لأخرى على نفس منحنى الطلب تمثل:", type: "mcq", options: ["التغير في الكمية المطلوبة", "تمدد وانكماش الطلب", "أ، ب", "لا شيء"], correct: 2, exp: "أ، ب." },
            { id: 89, q: "انتقال منحنى العرض بأكمله من مكان لآخر يمثل:", type: "mcq", options: ["تمدد العرض", "انكماش العرض", "تغير العرض", "لا شيء"], correct: 2, exp: "تغير العرض." },
            { id: 90, q: "إذا كان م ح س = 0.5 فإن مضاعف المدفوعات التحويلية يساوي:", type: "mcq", options: ["1", "-1", "0.5", "-0.5"], correct: 0, exp: "MPC / (1-MPC) = 0.5/0.5 = 1." },
            { id: 91, q: "كل نقطة على منحنى السواء تعكس توليفة من سلعتين تعطي:", type: "mcq", options: ["إشباع مختلف", "نفس الإشباع", "كل ما سبق", "لا شيء"], correct: 1, exp: "نفس الإشباع." },
            { id: 92, q: "يختص علم Macroeconomic بدراسة:", type: "mcq", options: ["المشروعات القومية", "المشروعات الخاصة", "العامة", "كل ما سبق"], correct: 0, exp: "المشروعات القومية." },
            { id: 93, q: "في نموذج اقتصادي من قطاعين شرط توازن الدخل هو:", type: "mcq", options: ["الادخار أكبر من الاستثمار", "الادخار أقل", "الادخار يساوي الاستثمار", "لا شيء"], correct: 2, exp: "الادخار يساوي الاستثمار." },
            { id: 94, q: "في نموذج مكون من 3 قطاعات يتحقق المستوى التوازني للدخل عندما:", type: "mcq", options: ["S+T = I+G", "S+T > I+G", "S+T < I+G", "لا شيء"], correct: 0, exp: "الادخار + الضرائب = الاستثمار + الإنفاق الحكومي." },
            { id: 95, q: "الميل الحدي للاستهلاك هو:", type: "mcq", options: ["معدل التغير في الاستهلاك نتيجة التغير في الدخل", "معدل التغير في الادخار", "كل ما سبق", "لا شيء"], correct: 0, exp: "معدل التغير في الاستهلاك نتيجة التغير في الدخل." },
            { id: 96, q: "الميل المتوسط للاستهلاك هو:", type: "mcq", options: ["حاصل طرح الميل الحدي للادخار من الواحد", "حاصل طرح الميل المتوسط للادخار من الواحد الصحيح", "كل ما سبق", "لا شيء"], correct: 1, exp: "حاصل طرح الميل المتوسط للادخار من الواحد الصحيح." },
            { id: 97, q: "يختص علم Microeconomic بدراسة:", type: "mcq", options: ["القومية", "الخاصة الصغيرة", "العامة", "كل ما سبق"], correct: 1, exp: "المشروعات الخاصة الصغيرة." },
            { id: 98, q: "بنود الإنفاق القومي:", type: "mcq", options: ["الاستهلاكي والحكومي", "الاستثماري", "الخارجي", "كل ما سبق"], correct: 3, exp: "كل ما سبق." },
            { id: 99, q: "يمثل العلاقة بين موردين:", type: "mcq", options: ["منحنى السواء", "الناتج الكلي", "الناتج المتساوي", "لا شيء"], correct: 2, exp: "منحنى الناتج المتساوي." },
            { id: 100, q: "يمثل العلاقة بين سلعتين:", type: "mcq", options: ["منحنى السواء", "منحنى الاستهلاك", "الناتج المتساوي", "لا شيء"], correct: 0, exp: "منحنى السواء." },
            { id: 101, q: "يمثل العلاقة بين المورد المتغير ومقدار الإنتاج:", type: "mcq", options: ["التكاليف الكلية", "منحنى الناتج الكلي", "المنفعة الكلية", "لا شيء"], correct: 1, exp: "منحنى الناتج الكلي." },
            { id: 102, q: "يمثل العلاقة بين مقدار الإنتاج والتكاليف:", type: "mcq", options: ["منحنى التكاليف الكلية", "الناتج الكلي", "المنفعة الكلية", "لا شيء"], correct: 0, exp: "منحنى التكاليف الكلية." },
            { id: 103, q: "إذا كان منحنى العرض خطاً مستقيماً يمثل زاوية 45 درجة مع المحورين تكون مرونة العرض:", type: "mcq", options: ["مرن", "غير مرن", "عديم", "متكافئ المرونة"], correct: 3, exp: "متكافئ المرونة." },
            { id: 104, q: "ينص قانون العرض على أن زيادة سعر السلعة سوف يؤدي إلى:", type: "mcq", options: ["نقص العرض", "نقص الكمية المعروضة", "زيادة العرض", "زيادة الكمية المعروضة"], correct: 3, exp: "زيادة الكمية المعروضة." },
            { id: 105, q: "تبدأ المرحلة الثانية من قانون النسب المتغيرة عندما:", type: "mcq", options: ["الناتج الحدي = الناتج المتوسط", "الإيراد الحدي = الإيراد المتوسط", "التكاليف الحدية = العائد الحدي", "لا شيء"], correct: 0, exp: "الناتج الحدي = الناتج المتوسط." },
            { id: 106, q: "يصل الإنتاج إلى أقصى نقطة في قانون تناقص الغلة عندما:", type: "mcq", options: ["الناتج الحدي = الناتج المتوسط", "الإيراد الحدي...", "التكاليف الحدية...", "لا شيء مما سبق"], correct: 3, exp: "لا شيء مما سبق (يصل الأقصى عندما الناتج الحدي = صفر)." },
            { id: 107, q: "الناتج الحدي جبرياً هو:", type: "mcq", options: ["قسمة الناتج الكلي على المتوسط", "المشتقة الأولى لدالة الناتج الكلي", "كل ما سبق", "لا شيء"], correct: 1, exp: "المشتقة الأولى لدالة الناتج الكلي." },
            { id: 108, q: "إذا حدث تغير في كل العوامل المؤثرة على الطلب فيما عدا سعر السلعة فإننا نكون بصدد:", type: "mcq", options: ["تغير الطلب", "تغير الكمية المطلوبة", "تمدد الطلب", "لا شيء"], correct: 0, exp: "تغير الطلب." },
            { id: 109, q: "العوامل المحددة للعرض هي:", type: "mcq", options: ["سعر السلعة البديلة", "أذواق المستهلكين", "العادات والتقاليد", "لا شيء مما سبق"], correct: 3, exp: "لا شيء مما سبق (كل المذكور عوامل طلب)." },
            { id: 110, q: "صافي الإيراد الكلي هو:", type: "mcq", options: ["الإيراد الحدي - التكاليف الحدية", "الإيراد الكلي - التكاليف الكلية", "العائد الكلي - التكاليف الحدية", "لا شيء"], correct: 3, exp: "لا شيء (المصطلح الدقيق هو الربح)." },
            { id: 111, q: "تغير العرض بنفس تغير واتجاه الطلب يؤثر على توازن السوق حيث:", type: "mcq", options: ["زيادة كل من سعر وكمية التوازن", "زيادة كمية التوازن وثبات السعر", "نقص كمية التوازن", "نقص كل من كمية وسعر"], correct: 1, exp: "زيادة كمية التوازن وثبات سعر التوازن." },
            { id: 112, q: "وفقاً لقانون الطلب الكمية المطلوبة:", type: "mcq", options: ["تزيد مع زيادة الأسعار", "تزيد مع انخفاض الأسعار", "لا تتغير", "لا شيء"], correct: 1, exp: "تزيد مع انخفاض الأسعار." },
            { id: 113, q: "زيادة الطلب من سلعة ما يعكس:", type: "mcq", options: ["انخفاض الدخل", "ارتفاع سعر السلعة", "انخفاض سعر السلعة", "لا شيء"], correct: 3, exp: "لا شيء مما سبق." },
            { id: 114, q: "بفرض أن نوكيا وسامسونج بدائل، زيادة سعر نوكيا يؤدي إلى:", type: "mcq", options: ["انخفاض الطلب على سامسونج", "زيادة الطلب على سامسونج", "ثبات الطلب", "لا شيء"], correct: 1, exp: "زيادة الطلب على سامسونج." },
            { id: 115, q: "مرونة الطلب السعرية دائماً:", type: "mcq", options: ["موجبة", "سالبة وأقل من الوحدة", "سالبة وأكبر من الوحدة", "لا شيء مما سبق"], correct: 3, exp: "لا شيء مما سبق (هي سالبة دائماً، لكن قيمتها تختلف)." },
            { id: 116, q: "بما أن لحوم الأبقار بدائل للدواجن، ارتفاع سعر الأبقار يؤدي إلى:", type: "mcq", options: ["انتقال منحنى الطلب على الدجاج لليسار", "انتقال منحنى الطلب على الدجاج ناحية اليمين", "لا يحدث تغير", "لا شيء مما سبق"], correct: 1, exp: "انتقال منحنى الطلب على الدجاج ناحية اليمين." },
            { id: 117, q: "إذا كانت مرونة الطلب العبورية موجبة تكون السلعة:", type: "mcq", options: ["عادية", "رديئة", "مكملة", "تبادلية"], correct: 3, exp: "تبادلية." },
            { id: 118, q: "الدخل المتاح هو:", type: "mcq", options: ["الدخل القومي - الضرائب", "الدخل القومي - الإعانات", "الدخل القومي + الضرائب", "لا شيء"], correct: 0, exp: "الدخل القومي - الضرائب." },
            { id: 119, q: "يقصد بتغير الطلب:", type: "mcq", options: ["انتقال المنحنى لليسار فقط", "انتقال المنحنى لليمين فقط", "انتقال المنحنى لليسار أو اليمين", "لا شيء"], correct: 2, exp: "انتقال المنحنى لليسار أو اليمين." },
            { id: 120, q: "يقصد بزيادة الطلب:", type: "mcq", options: ["انتقال المنحنى لليسار", "انتقال المنحنى لليمين فقط", "انتقال المنحنى لليسار أو اليمين", "لا شيء"], correct: 1, exp: "انتقال منحنى الطلب بأكمله جهة اليمين فقط." }
        ];

        // Question Bank Data
        const questionBank = [
            // True/False
            { id: 1, q: "مرونة الطلب التقاطعية موجبة للسلع البديلة وسالبة للسلع المتكاملة.", type: "tf", ans: true, exp: "العلاقة بين السلع البديلة طردية (إذا زاد سعر اللحوم، زاد الطلب على الدجاج)، لذا المرونة موجبة. والعلاقة بين السلع المكملة عكسية (إذا زاد سعر السكر، قل الطلب على الشاي)، لذا المرونة سالبة." },
            { id: 2, q: "عندما تصل المنفعة الكلية لأقصاها فإن المنفعة الحدية تساوي صفر.", type: "tf", ans: true, exp: "المنفعة الحدية هي معدل تغير المنفعة الكلية، وعندما تتوقف المنفعة الكلية عن الزيادة (تصل للقمة)، تكون الإضافة (المنفعة الحدية) صفراً." },
            { id: 3, q: "إذا كان سعر الوحدة من السلعة (أ) هو 10 جنيه والمنفعة الحدية للنقود 5 وحدات فإن المنفعة الحدية للسلعة (أ) هي 15 وحدة.", type: "tf", ans: false, exp: "شرط التوازن: المنفعة الحدية للسلعة = سعر السلعة × المنفعة الحدية للنقود. إذن: 10 × 5 = 50 وحدة منفعة، وليس 15." },
            { id: 4, q: "منحنى الاستهلاك الدخلي هو الخط الواصل بين نقط توازن المستهلك في حالة تغير الدخل مع ثبات سعر السلعتين.", type: "tf", ans: true, exp: "" },
            { id: 5, q: "التضخم يمثل ارتفاع المستوى العام للأسعار مع زيادة القوة الشرائية للنقود.", type: "tf", ans: false, exp: "التضخم هو ارتفاع الأسعار مع انخفاض القوة الشرائية للنقود (النقود تشتري كمية أقل)." },
            { id: 6, q: "تمثل الأسس في دالة الإنتاج (كوب - دوجلاس) النواتج الحدية للموارد.", type: "tf", ans: false, exp: "الأسس تمثل مرونات الإنتاج لكل عنصر، وليس الناتج الحدي المباشر." },
            { id: 7, q: "تعرف التكاليف الثابتة بأنها الفرق بين التكاليف الكلية والتكاليف الحدية.", type: "tf", ans: false, exp: "التكاليف الثابتة = التكاليف الكلية – التكاليف المتغيرة." },
            { id: 8, q: "إذا كانت دالة الطلب (ك = 10 – 3 ث) وبفرض أن السعر (ث = 2) فإن مرونة الطلب السعرية تكون أقل من الواحد.", type: "tf", ans: false, exp: "الكمية = 10 – 3(2) = 4. المرونة = الميل × (السعر ÷ الكمية) = -3 × (2 ÷ 4) = -1.5. (القيمة المطلقة 1.5 أكبر من الواحد)." },
            { id: 9, q: "التكاليف الحدية لا تتأثر بأي حال من الأحوال بالتكاليف الثابتة.", type: "tf", ans: true, exp: "التكاليف الحدية تعتمد فقط على التغير في التكاليف المتغيرة، لأن الثابتة لا تتغير مع الإنتاج." },
            { id: 10, q: "المرحلة الثانية من قانون تناقص الغلة هي مرحلة غير اقتصادية.", type: "tf", ans: false, exp: "المرحلة الثانية هي المرحلة الاقتصادية والرشيدة للإنتاج، أما المرحلة الثالثة (حيث الناتج الحدي سالب) فهي غير اقتصادية." },
            { id: 11, q: "إذا كانت مرونة الطلب التقاطعية موجبة فإن هذا يعنى أن ارتفاع سعر السلعة (ب) يؤدي إلى ارتفاع الكمية المطلوبة من السلعة (أ).", type: "tf", ans: true, exp: "هذا يعني أنهما سلع بديلة (مثل اللحم والدجاج)." },
            { id: 12, q: "يمكن أن تكون قيمة الميل الحدي للادخار أكبر من الواحد الصحيح وأقل من الصفر.", type: "tf", ans: false, exp: "الميل الحدي للادخار والميل الحدي للاستهلاك قيمتهما دائماً تتراوح بين الصفر والواحد الصحيح." },
            { id: 13, q: "الكليات تكامل الحديات.", type: "tf", ans: true, exp: "رياضياً، الدالة الكلية هي تكامل الدالة الحدية." },
            { id: 14, q: "إذا حدث تغير في كل العوامل المؤثرة على الطلب فيما عدا سعر السلعة فإننا نكون بصدد تغير الكمية المطلوبة.", type: "tf", ans: false, exp: "تغير العوامل الأخرى (غير السعر) يسمى تغير الطلب (انتقال المنحنى). أما تغير السعر فقط يسمى تغير الكمية المطلوبة." },
            { id: 15, q: "منحني الناتج الكلي في قانون تناقص الغلة من الدرجة الثانية.", type: "tf", ans: false, exp: "منحنى الناتج الكلي يأخذ عادة شكل دالة تكعيبية ليعكس تزايد ثم تناقص الغلة." },
            { id: 16, q: "المرحلة الأولى من قانون النسب المتغيرة غير موجودة في الحياة العملية للمزارع.", type: "tf", ans: true, exp: "لأن المنتج العقلاني لا يتوقف في المرحلة الأولى لأن الناتج المتوسط ما زال يتزايد." },
            { id: 17, q: "تستخدم مرونة الطلب السعرية في تصنيف السلع إلى ضرورية وكمالية.", type: "tf", ans: false, exp: "مرونة الطلب الدخلية هي التي تصنف السلع (عادية، ضرورية، كمالية)." },
            { id: 18, q: "يزيد إشباع المستهلك كلما انتقلنا على خريطة منحنيات السواء لأسفل.", type: "tf", ans: false, exp: "يزيد الإشباع كلما انتقلنا لأعلى جهة اليمين (ابتعدنا عن نقطة الأصل)." },
            { id: 19, q: "إذا تغيرت الكمية المطلوبة من سلعة معينة بنسبة أكبر من التغير الحاصل في سعرها تكون مرونة الطلب السعرية أكبر من الواحد.", type: "tf", ans: true, exp: "هذا تعريف الطلب المرن." },
            { id: 20, q: "كل نقطة على منحنى السواء تعكس توليفة من سلعتين تعطي إشباع مختلف.", type: "tf", ans: false, exp: "تعريف منحنى السواء هو أن كل النقاط عليه تعطي نفس القدر من الإشباع." },
            { id: 21, q: "يعني تقسيم العمل تخصص القوة العاملة في العمليات الإنتاجية المختلفة بطريقة تجعل النتائج منها أكبر من عدم التخصص.", type: "tf", ans: true, exp: "" },
            { id: 22, q: "يقصد بالعرض المرن أن التغير النسبي في الكمية المعروضة يساوي التغير النسبي في السعر.", type: "tf", ans: false, exp: "إذا تساوى التغيران يسمى متكافئ المرونة." },
            { id: 23, q: "كل الدراسات الاقتصادية تهتم بدراسة الثروة والإشباع وندرة الموارد.", type: "tf", ans: true, exp: "" },
            { id: 24, q: "تظهر قيمة السلعة في شكلين هما قيمة منفعتها وقيمة استبدالها.", type: "tf", ans: true, exp: "القيمة الاستعمالية والقيمة التبادلية." },
            { id: 25, q: "من أهداف علم الاقتصاد التنبؤ بالظواهر والتحكم في توجيهها.", type: "tf", ans: true, exp: "" },
            { id: 26, q: "تقسم المشكلة الاقتصادية إلى ثلاث مشاكل هي مشكلة الإنتاج ومشكلة تخصيص الموارد ومشكلة تحديد أولويات الإشباع.", type: "tf", ans: true, exp: "ماذا ننتج، كيف ننتج، لمن ننتج." },
            { id: 27, q: "تهدف السياسة النقدية إلى الرقابة على الائتمان والتأثير فيه.", type: "tf", ans: true, exp: "" },
            { id: 28, q: "مضاعف الاستثمار يساوي مقلوب الميل الحدي للاستهلاك.", type: "tf", ans: false, exp: "مضاعف الاستثمار = مقلوب الميل الحدي للادخار." },
            { id: 29, q: "هناك 4 درجات مختلفة النتائج تفسر مرونة العرض.", type: "tf", ans: false, exp: "يوجد 5 حالات (عديم، لا نهائي، مرن، غير مرن، متكافئ)." },
            { id: 30, q: "تفسر مرونة الطلب العبورية مدى أهمية السلعة بالنسبة للمستهلك.", type: "tf", ans: false, exp: "مرونة الطلب الدخلية هي التي تفسر الأهمية." },
            { id: 31, q: "يقصد بالسياسة المالية استخدام الحكومة ممثلة في وزارة المالية للضرائب والدين العام في معالجة التضخم والانكماش.", type: "tf", ans: true, exp: "" },
            { id: 32, q: "في حالة الاحتكار الكامل ليس للمشتري دور في تعيين السعر عكس المنافسة الكاملة.", type: "tf", ans: true, exp: "المحتكر هو صانع للسعر." },
            { id: 33, q: "يبعد منحني التكاليف الكلية عن منحني التكاليف المتغيرة بمقدار أكبر من التكاليف الثابتة.", type: "tf", ans: false, exp: "يبعد عنهما بمقدار مساوٍ للتكاليف الثابتة تماماً." },
            { id: 34, q: "تعرف التكاليف الثابتة بأنها الفرق بين التكاليف المتغيرة والتكاليف الحدية.", type: "tf", ans: false, exp: "الثابتة = الكلية - المتغيرة." },
            { id: 35, q: "استخدام التكنولوجيا في الإنتاج الزراعي يؤدي إلى انتقال منحني الناتج الكلي إلى أعلى.", type: "tf", ans: true, exp: "" },
            { id: 36, q: "منحني الاستهلاك الدخلي هو الخط الواصل بين نقط توازن المستهلك في حالة ثبات الدخل مع تغير سعر أحد السلعتين.", type: "tf", ans: false, exp: "هذا تعريف منحنى الاستهلاك السعري." },
            { id: 37, q: "منحني الاستهلاك السعري هو الخط الواصل بين نقط توازن المستهلك في حالة تغير سعر أحد السلعتين وثبات الدخل.", type: "tf", ans: true, exp: "" },
            { id: 38, q: "تغير الكمية المطلوبة يعني تمدد وانكماش الطلب.", type: "tf", ans: true, exp: "" },
            { id: 39, q: "مرونة التكاليف هي خارج قسمة التكاليف المتوسطة على التكاليف الحدية.", type: "tf", ans: false, exp: "مرونة التكاليف = التكاليف الحدية ÷ التكاليف المتوسطة." },
            { id: 40, q: "عندما تصل المنفعة الحدية لأقصاها فإن المنفعة الكلية تساوى صفر.", type: "tf", ans: false, exp: "المنفعة الكلية تكون صفر عند بداية الاستهلاك، وتكون أقصى ما يمكن عندما المنفعة الحدية = صفر." },
            { id: 41, q: "مرونة الإنتاج هي خارج قسمة الناتج المتوسط على الناتج الحدي.", type: "tf", ans: false, exp: "مرونة الإنتاج = الناتج الحدي ÷ الناتج المتوسط." },
            { id: 42, q: "مرونة الطلب الدخلية موجبة للسلع البديلة وسالبة للسلع المتكاملة.", type: "tf", ans: false, exp: "هذا تعريف المرونة التقاطعية." },
            { id: 43, q: "مضاعف المدفوعات التحويلية عكس مضاعف الضريبة.", type: "tf", ans: true, exp: "مضاعف التحويلات موجب، ومضاعف الضرائب سالب، وهما متشابهان في القيمة المطلقة." },
            { id: 44, q: "تغير الكمية المعروضة يعني انتقال منحنى العرض بأكمله من مكانه الأصلي.", type: "tf", ans: false, exp: "هذا تعريف تغير العرض. تغير الكمية المعروضة هو الانتقال من نقطة لأخرى على نفس المنحنى." },
            { id: 45, q: "الدالة (ك = 5 ÷ س) هي دالة طلب.", type: "tf", ans: true, exp: "العلاقة عكسية بين الكمية والسعر (بالمقام)." },
            { id: 46, q: "يمثل منحني السواء مختلف التوليفات من الموردين التي تعطي نفس القدر من الإشباع.", type: "tf", ans: false, exp: "توليفات من السلع وليس الموردين." },
            { id: 47, q: "أول من شرح العلاقة بين الاستهلاك والدخل هو الاقتصادي الأمريكي اللورد كينز.", type: "tf", ans: true, exp: "" },
            { id: 48, q: "خريطة السواء هي التي تضم أكثر من منحني ناتج متساوي على نفس المحورين.", type: "tf", ans: false, exp: "خريطة السواء تضم منحنيات سواء، أما التي تضم منحنيات ناتج متساوي تسمى خريطة الإنتاج." },
            { id: 49, q: "سياسة الضرائب والإعلانات تؤثر على الكمية المعروضة من السلعة.", type: "tf", ans: false, exp: "تؤثر على العرض (انتقال المنحنى) وليس الكمية المعروضة فقط." },
            { id: 50, q: "إذا تغيرت الكمية المطلوبة بنسبة أكبر من التغير في السعر فإن مرونة الطلب الدخلية تكون أكبر من الواحد الصحيح.", type: "tf", ans: false, exp: "الكلام يصف مرونة الطلب السعرية وليست الدخلية." },
            { id: 51, q: "خريطة الإنتاج هي التي تضم أكثر من منحني سواء على نفس المحورين.", type: "tf", ans: false, exp: "العكس، خريطة الإنتاج تضم منحنيات ناتج متساوي." },
            { id: 52, q: "تؤثر العادات والتقاليد على الكمية المطلوبة من السلعة.", type: "tf", ans: false, exp: "تؤثر على الطلب (انتقال المنحنى). السعر فقط يؤثر على الكمية المطلوبة." },
            { id: 53, q: "إذا كانت دالة العرض (ك = 10 + 3 ث) وبفرض أن (ث = 2) فإن مرونة العرض السعرية تكون مرنة.", type: "tf", ans: false, exp: "الكمية = 16. المرونة = 3 × (2 ÷ 16) = 0.375 (أقل من 1، إذن غير مرن)." },
            { id: 54, q: "يمثل منحني الناتج المتساوي مختلف التوليفات من السلعتين التي تحقق نفس القدر من الإنتاج.", type: "tf", ans: false, exp: "توليفات من عناصر الإنتاج (الموارد) وليس السلعتين." },
            { id: 55, q: "التكاليف الحدية لا تتأثر بأي حال من الأحوال بالتكاليف المتغيرة.", type: "tf", ans: false, exp: "التكاليف الحدية تشتق أساساً من التغير في التكاليف المتغيرة." },
            { id: 56, q: "كلما زاد الاستهلاك زاد الدخل بنسبة أكبر من زيادة الاستهلاك.", type: "tf", ans: true, exp: "الزيادة في الدخل توزع بين الاستهلاك والادخار، لذا الزيادة في الدخل تكون أكبر من الزيادة في الاستهلاك." },
            { id: 57, q: "استخدام التكنولوجيا يؤدي إلى انتقال منحني الناتج الكلي لأسفل.", type: "tf", ans: false, exp: "ينتقل لأعلى لزيادة الإنتاجية." },
            { id: 58, q: "الدول النامية هي التي تستخدم رأس المال في الإنتاج أكثر من الدول المتقدمة.", type: "tf", ans: false, exp: "الدول النامية عادة تعتمد على العمل، والمتقدمة تعتمد على رأس المال." },
            { id: 59, q: "من أمثلة التكاليف الثابتة إيجار الأرض وأجور العمال الزراعيين المؤقتين.", type: "tf", ans: false, exp: "إيجار الأرض ثابت، لكن أجور العمال المؤقتين تكلفة متغيرة." },
            { id: 60, q: "قانون تناقص الغلة يمثل العلاقة الطردية بين السعر وكمية الإنتاج.", type: "tf", ans: false, exp: "يمثل العلاقة بين عامل الإنتاج المتغير وحجم الناتج (فيزيقياً) وليس السعر." },
            { id: 61, q: "العلاقة بين سلعة الشاي وسلعة السكر هي علاقة تبادلية.", type: "tf", ans: false, exp: "علاقة تكاملية." },
            { id: 62, q: "إذا كان الميل الحدي للاستهلاك 0.7 فإن الميل المتوسط للادخار هو 0.3.", type: "tf", ans: false, exp: "الميل الحدي للادخار هو 0.3 (لأن مجموعهما 1)، أما الميل المتوسط فيختلف ولا يمكن استنتاجه مباشرة." },
            { id: 63, q: "العلاقة بين سلعة السمك وسلعة الدواجن هي علاقة تبادلية.", type: "tf", ans: true, exp: "سلع بديلة." },
            { id: 64, q: "تفسر مرونة الطلب الدخلية مدى ضرورة السلعة بالنسبة للمستهلك.", type: "tf", ans: true, exp: "" },
            { id: 65, q: "إذا كان التغير في الإنفاق الاستهلاكي يساوي 80 جنيه والتغير في الدخل يساوي 100 جنيه فإن الميل الحدي للادخار يساوي 0.2.", type: "tf", ans: true, exp: "الميل الحدي للاستهلاك = 80 ÷ 100 = 0.8. وبما أن الميل الحدي للادخار = 1 - 0.8، إذن يساوي 0.2." },
            { id: 66, q: "هناك علاقة طردية بين الميل الحدي للاستهلاك والميل الحدي للادخار.", type: "tf", ans: false, exp: "علاقة عكسية (مجموعهما يساوي 1)." },

            // MCQ
            { id: 71, q: "انتقال منحني العرض بأكمله من مكان لآخر يمثل:", type: "mcq", options: ["تمدد العرض", "انكماش العرض", "تغير العرض", "لا شيء مما سبق"], correct: 2, exp: "انتقال المنحنى بالكامل يحدث بسبب تغير العوامل غير السعرية (مثل التكنولوجيا أو الضرائب)، ويسمى تغير العرض." },
            { id: 72, q: "من شروط نقطة توازن المنتج في سوق المنافسة التامة:", type: "mcq", options: ["السعر = العائد الحدي = التكاليف الحدية", "العائد الحدي < التكاليف الحدية", "الإيراد الكلي = التكاليف الكلية", "لا شيء مما سبق"], correct: 0, exp: "هذا هو الشرط الأساسي لتعظيم الربح في المنافسة الكاملة." },
            { id: 73, q: "في نموذج اقتصادي من قطاعين شرط توازن الدخل هو:", type: "mcq", options: ["الادخار أكبر من الاستثمار", "الادخار أقل من الاستثمار", "الادخار يساوي الاستثمار", "لا شيء مما سبق"], correct: 2, exp: "يتحقق التوازن عندما تتساوي التسربات (الادخار) مع الحقن (الاستثمار)." },
            { id: 74, q: "من شروط نقطة توازن المنتج في سوق الاحتكار:", type: "mcq", options: ["سعر السوق أعلى من الإيراد الحدي", "الإيراد الحدي يساوي التكاليف الحدية", "الإيراد المتوسط يساوي التكاليف المتوسطة", "لا شيء مما سبق"], correct: 1, exp: "شرط التوازن العام لتعظيم الأرباح هو (الإيراد الحدي = التكلفة الحدية)." },
            { id: 75, q: "يختص علم الاقتصاد الجزئي (Microeconomics) بدراسة:", type: "mcq", options: ["المشروعات القومية", "المشروعات الخاصة الصغيرة", "المشروعات العامة", "كل ما سبق"], correct: 1, exp: "الاقتصاد الجزئي يدرس سلوك الوحدات الفردية (مستهلك، منتج)." },
            { id: 76, q: "الميل الحدي للاستهلاك هو:", type: "mcq", options: ["معدل التغير في الاستهلاك نتيجة التغير في الدخل", "معدل التغير في الادخار نتيجة التغير في الدخل", "مقلوب الميل الحدي للادخار", "لا شيء مما سبق"], correct: 0, exp: "" },
            { id: 77, q: "بنود الإنفاق القومي:", type: "mcq", options: ["الإنفاق الاستهلاكي والحكومي", "الإنفاق الاستثماري", "الإنفاق الخارجي", "كل ما سبق"], correct: 3, exp: "الإنفاق القومي = استهلاك + استثمار + إنفاق حكومي + صافي الصادرات." },
            { id: 78, q: "الميل المتوسط للاستهلاك هو:", type: "mcq", options: ["حاصل طرح الميل الحدي للادخار من الواحد الصحيح", "حاصل طرح الميل المتوسط للادخار من الواحد الصحيح", "كل ما سبق", "لا شيء مما سبق"], correct: 1, exp: "لأن (الميل المتوسط للاستهلاك + الميل المتوسط للادخار = 1)." },
            { id: 79, q: "تم استبدال منظمة GATT بمنظمة:", type: "mcq", options: ["GAFTA", "FAO", "WTO", "لا شئ مما سبق"], correct: 2, exp: "منظمة التجارة العالمية." },
            { id: 80, q: "تهدف منظمة WTO إلى:", type: "mcq", options: ["حماية التجارة الدولية", "حرية التجارة الدولية", "لا شيء مما سبق", "جميع ما سبق"], correct: 1, exp: "" },
            { id: 81, q: "نقطة تماس منحنى السواء مع خط الدخل أو الميزانية:", type: "mcq", options: ["نقطة توازن المستهلك", "منحني الاستهلاك الدخلي", "لا شيء مما سبق", "كل ما سبق"], correct: 0, exp: "" },
            { id: 82, q: "تم تغيير مسمى السوق الأوروبية المشتركة EEC إلى الاتحاد الأوروبي EU بتاريخ:", type: "mcq", options: ["يناير 1994", "يناير 1995", "يناير 1996", "لا شيء مما سبق"], correct: 3, exp: "الصحيح هو نوفمبر 1993." },
            { id: 83, q: "الدخل المتاح هو:", type: "mcq", options: ["الدخل القومي - الضرائب", "الدخل القومي - الإعانات", "الدخل القومي + الضرائب", "لا شيء مما سبق"], correct: 0, exp: "هو الدخل الذي يتصرف فيه الفرد بعد خصم الضرائب." },
            { id: 84, q: "بما أن لحوم الأبقار تعد بدائل للحوم الدواجن فإن ارتفاع سعر لحوم الأبقار يؤدي إلى:", type: "mcq", options: ["انتقال منحني الطلب على الدجاج لليسار", "انتقال منحني الطلب على الدجاج لليمين", "لا يحدث تغير", "لا شيء مما سبق"], correct: 1, exp: "زيادة الطلب." },
            { id: 85, q: "يوضح منحني العرض:", type: "mcq", options: ["ارتفاع العرض مع ارتفاع السعر", "انخفاض العرض مع انخفاض السعر", "كل ما سبق", "لا شيء مما سبق"], correct: 2, exp: "علاقة طردية." },
            { id: 86, q: "إذا كانت مرونة الطلب العبورية موجبة تكون السلعة:", type: "mcq", options: ["عادية", "رديئة", "مكملة", "تبادلية"], correct: 3, exp: "بديلة." },
            { id: 87, q: "عدد الدول الأعضاء في الاتحاد الأوروبي:", type: "mcq", options: ["25 دولة", "30 دولة", "27 دولة", "لا شيء مما سبق"], correct: 2, exp: "" },
            { id: 88, q: "مقر منظمة التجارة العالمية WTO هو مدينة:", type: "mcq", options: ["بروكسل", "باريس", "لندن", "لا شيء مما سبق"], correct: 3, exp: "المقر في جنيف." },
            { id: 89, q: "يتكون من عنصرين هما الرغبة في الشراء والقدرة على السداد:", type: "mcq", options: ["العرض الفعال", "الطلب الفعال", "كل ما سبق", "لا شيء مما سبق"], correct: 1, exp: "" },
            { id: 90, q: "انتقال منحنى العرض بأكمله لأعلى أو لأسفل منحني العرض الأصلي:", type: "mcq", options: ["تمدد وانكماش العرض", "تغير العرض", "لا شيء مما سبق", "كل ما سبق"], correct: 1, exp: "" },
            { id: 91, q: "انتقال من نقطة لأخرى على نفس منحنى الطلب:", type: "mcq", options: ["تغير الطلب", "التغير في الكمية المطلوبة", "لا شيء مما سبق", "كل ما سبق"], correct: 1, exp: "" },
            { id: 92, q: "الأرض والعمل ورأس المال والإدارة:", type: "mcq", options: ["العوامل المحددة للعرض", "العوامل المحددة للطلب", "لاشيء مما سبق", "كل ما سبق"], correct: 0, exp: "عناصر الإنتاج." },
            { id: 93, q: "تمثل مدى استجابة التغير في المتغير التابع نتيجة التغير في المتغير المستقل:", type: "mcq", options: ["المرونة كمقياس", "مرونة الطلب", "لا شيء مماسبق", "كل ما سبق"], correct: 0, exp: "التعريف العام." },
            { id: 94, q: "تمثل التغير النسبي في الكمية المطلوبة من سلعة معينة نتيجة التغير النسبي في الدخل:", type: "mcq", options: ["مرونة الطلب التقاطعية", "مرونة الطلب السعرية", "المرونة الدخلية", "لا شيء مما سبق"], correct: 2, exp: "" },
            { id: 95, q: "من شروط المنافسة الكاملة:", type: "mcq", options: ["عدد كبير من البائعين والمشترين", "تجانس السلعة", "عدم قدرة البائع على التحكم في السعر", "كل ما سبق"], correct: 3, exp: "" },
            { id: 96, q: "تمثل تفاضل الكليات:", type: "mcq", options: ["حديات", "منفعة حدية", "لا شيء مما سبق", "كل ما سبق"], correct: 0, exp: "القيمة الحدية هي المشتقة (التفاضل) للدالة الكلية." },
            { id: 97, q: "الانتقال من نقطة لأخرى على نفس منحني الطلب تمثل:", type: "mcq", options: ["التغير في الكمية المطلوبة", "تمدد وانكماش الطلب", "أ و ب", "لا شيء مما سبق"], correct: 2, exp: "المصطلحان لهما نفس المعنى." },
            { id: 98, q: "مدفوعات من الحكومة للأفراد:", type: "mcq", options: ["الدعم", "الضرائب", "لاشئ مما سبق", "كل ما سبق"], correct: 0, exp: "المدفوعات التحويلية." },
            { id: 99, q: "مدفوعات إجبارية من الأفراد للحكومة:", type: "mcq", options: ["الدعم", "الضرائب", "لا شئ مما سبق", "كل ما سبق"], correct: 1, exp: "" },
            { id: 100, q: "تفسر مرونة الطلب المتقاطعة (العبورية):", type: "mcq", options: ["تنافس السلع لبعضها", "تكامل السلع", "استقلال السلع", "كل ما سبق"], correct: 3, exp: "" },
            { id: 101, q: "تتوقف درجة اختلاف الأسواق على:", type: "mcq", options: ["تجانس السلعة", "عدد البائعين والمشترين", "تعاون أو استقلال البائعين", "كل ما سبق"], correct: 3, exp: "" },
            { id: 102, q: "من شروط الاحتكار الكامل:", type: "mcq", options: ["بائع واحد", "السلعة ليس لها بديل", "التحكم في السعر", "كل ما سبق"], correct: 3, exp: "" },
            { id: 103, q: "يمثل الجزء من منحني التكاليف الحدية وهي صاعدة لأعلى:", type: "mcq", options: ["منحني الناتج الحدي", "منحني الطلب", "منحني العرض", "لا شيء مما سبق"], correct: 2, exp: "في المنافسة الكاملة." },
            { id: 104, q: "محتويات منهج مبادئ الاقتصاد الذي درسته تقسم إلي:", type: "mcq", options: ["اقتصادي كلي وجزئي", "اقتصاد كلى فقط", "اقتصاد جزئي فقط", "لا شيء مما سبق"], correct: 0, exp: "" },
            { id: 105, q: "متوسط التكاليف الكلية يساوي:", type: "mcq", options: ["قسمة التكاليف الكلية على الوحدات المنتجة", "حاصل جمع متوسط كل من التكاليف الثابتة والمتغيرة", "أ و ب", "لا شيء مما سبق"], correct: 2, exp: "" },
            { id: 106, q: "المرونات الإنتاجية في قانون النسب المتغيرة (المرحلة الثانية) محصورة بين:", type: "mcq", options: ["موجب أو سالب الواحد الصحيح", "موجب أو سالب مالا نهاية", "لا شيء مما سبق", "كل ما سبق"], correct: 2, exp: "في المرحلة الاقتصادية، تكون مرونة الإنتاج موجبة ولكنها أقل من الواحد وأكبر من الصفر." },
            { id: 107, q: "منحني الناتج الحدي يكون أعلى من منحني الناتج المتوسط في قانون تناقص الغلة:", type: "mcq", options: ["عند نهاية المرحلة الأولى", "بين المرحلة الأولى والثانية", "لا شيء مما سبق", "كل ما سبق"], correct: 2, exp: "الناتج الحدي يكون أعلى من الناتج المتوسط خلال المرحلة الأولى." },
            { id: 108, q: "تمثل نقطة تماس منحني الناتج المتساوي مع خط التكاليف:", type: "mcq", options: ["نقطة توازن المنتج", "نقطة توازن المستهلك", "كل ما سبق", "لا شيء مما سبق"], correct: 0, exp: "" },
            { id: 109, q: "يمثل العلاقة بين موردين (عنصري إنتاج):", type: "mcq", options: ["منحني السواء", "منحني الناتج الكلي", "منحني الناتج المتساوي", "لا شيء مما سبق"], correct: 2, exp: "" },
            { id: 110, q: "يمثل العلاقة بين سلعتين:", type: "mcq", options: ["منحني السواء", "منحني الاستهلاك", "منحني الناتج المتساوي", "لا شيء مما سبق"], correct: 0, exp: "" },
            { id: 111, q: "من درجات مرونة الطلب:", type: "mcq", options: ["متكافئ", "عديم", "مرن نسبيا وغير مرن", "كل ما سبق"], correct: 3, exp: "" },
            { id: 112, q: "من انواع مرونات الطلب:", type: "mcq", options: ["سعرية", "تقاطعية", "دخلية", "كل ما سبق"], correct: 3, exp: "" },
            { id: 113, q: "وفقا لقانون الطلب فإن الكمية المطلوبة من سلعة خلال فترة زمنية معينة:", type: "mcq", options: ["تزيد مع زيادة الأسعار", "تزيد مع انخفاض الأسعار", "لا تتغير مع تغيرات الأسعار", "لا شيء مما سبق"], correct: 1, exp: "علاقة عكسية." },
            { id: 114, q: "انكماش الطلب من سلعة ما يعكس:", type: "mcq", options: ["انخفاض الدخل", "ارتفاع سعر السلعة", "انخفاض سعر السلعة", "ارتفاع الدخل"], correct: 1, exp: "" },
            { id: 115, q: "يفرض أن موبايل نوكيا وسامسونج بدائل لبعضهما وزيادة سعر نوكيا يؤدي إلي:", type: "mcq", options: ["انخفاض الطلب على سامسونج", "زيادة الطلب على سامسونج", "ثبات الطلب", "لا شيء مما سبق"], correct: 1, exp: "" },
            { id: 116, q: "مرونة الطلب السعرية دائماً:", type: "mcq", options: ["موجبة الإشارة", "سالبة الإشارة", "أقل من الوحدة", "لا شيء مما سبق"], correct: 1, exp: "" },
            { id: 117, q: "يمثل العلاقة بين المورد المتغير ومقدار الإنتاج:", type: "mcq", options: ["منحنى التكاليف الكلية", "منحنى الناتج الكلي", "منحني المنفعة الكلية", "لا شيء مما سبق"], correct: 1, exp: "" },
            { id: 118, q: "يمثل العلاقة بين مقدار الإنتاج والتكاليف:", type: "mcq", options: ["منحني التكاليف الكلية", "منحنى الناتج الكلي", "منحني المنفعة الكلية", "لا شيء مما سبق"], correct: 0, exp: "" }
        ];


        // --- App State & Logic ---

        const app = document.getElementById('app');
        let currentExam = [];
        let answers = {}; // { qId: {selected: index/bool, isCorrect: bool} }

        function renderHome() {
            app.innerHTML = `
                <div class="glass-panel p-8 rounded-2xl w-full max-w-md text-center fade-in">
                    <div class="mb-4 text-sm font-bold text-gray-500 bg-gray-100 p-2 rounded-lg inline-block">
                        <i class="fas fa-user-edit ml-2"></i>إعداد: عبدالرحمن احمد محمد 780
                    </div>
                    <h1 class="text-3xl font-bold text-gray-800 mb-2">منصة امتحانات الاقتصاد</h1>
                    <p class="text-gray-500 mb-8">اختر القسم الذي تريد الدخول إليه</p>
                    
                    <div class="space-y-4">
                        <button onclick="window.open('https://ecodyen.netlify.app/', '_blank')" 
                            class="w-full btn-hover bg-teal-500 hover:bg-teal-600 text-white font-bold py-4 px-6 rounded-xl shadow-lg flex items-center justify-between">
                            <span>موقع الشرح</span>
                            <i class="fas fa-chalkboard-teacher text-xl"></i>
                        </button>

                        <button onclick="startExam('2024')" 
                            class="w-full btn-hover bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 px-6 rounded-xl shadow-lg flex items-center justify-between">
                            <span>امتحان 2024</span>
                            <i class="fas fa-file-alt text-xl"></i>
                        </button>

                        <button onclick="startExam('2023')" 
                            class="w-full btn-hover bg-purple-600 hover:bg-purple-700 text-white font-bold py-4 px-6 rounded-xl shadow-lg flex items-center justify-between">
                            <span>امتحان 2023</span>
                            <i class="fas fa-file-alt text-xl"></i>
                        </button>

                        <button onclick="startExam('bank')" 
                            class="w-full btn-hover bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-4 px-6 rounded-xl shadow-lg flex items-center justify-between">
                            <span>بنك الأسئلة</span>
                            <i class="fas fa-database text-xl"></i>
                        </button>
                    </div>
                </div>
            `;
        }

        function startExam(type) {
            if (type === '2024') currentExam = exam2024;
            else if (type === '2023') currentExam = exam2023;
            else if (type === 'bank') currentExam = questionBank;
            
            answers = {};
            renderQuestions(type);
        }

        function renderQuestions(type) {
            const titleMap = {
                '2024': 'امتحان 2024',
                '2023': 'امتحان 2023',
                'bank': 'بنك الأسئلة'
            };

            if (currentExam.length === 0) {
                app.innerHTML = `
                    <div class="glass-panel p-8 rounded-2xl w-full max-w-md text-center fade-in">
                        <h2 class="text-2xl font-bold text-gray-800 mb-4">عفواً</h2>
                        <p class="text-gray-600 mb-6">لم يتم إضافة الأسئلة لهذا القسم بعد.</p>
                        <button onclick="renderHome()" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-xl transition">
                            العودة للرئيسية
                        </button>
                    </div>
                `;
                return;
            }

            const questionsHtml = currentExam.map((q, index) => {
                const isAnswered = answers[q.id] !== undefined;
                const answeredData = answers[q.id];
                
                let optionsHtml = '';
                
                if (q.type === 'tf') {
                    // True/False Logic
                    const trueClass = isAnswered 
                        ? (q.ans === true ? 'correct-answer' : (answeredData.selected === true ? 'wrong-answer' : 'opacity-50'))
                        : '';
                    const falseClass = isAnswered 
                        ? (q.ans === false ? 'correct-answer' : (answeredData.selected === false ? 'wrong-answer' : 'opacity-50'))
                        : '';

                    optionsHtml = `
                        <div class="grid grid-cols-2 gap-4">
                            <div onclick="${!isAnswered ? `handleAnswer(${q.id}, true)` : ''}" 
                                class="option-card p-4 rounded-lg border-2 border-gray-100 text-center font-bold ${trueClass} ${isAnswered ? 'cursor-default' : ''}">
                                <i class="fas fa-check mb-1 block"></i> صح
                            </div>
                            <div onclick="${!isAnswered ? `handleAnswer(${q.id}, false)` : ''}" 
                                class="option-card p-4 rounded-lg border-2 border-gray-100 text-center font-bold ${falseClass} ${isAnswered ? 'cursor-default' : ''}">
                                <i class="fas fa-times mb-1 block"></i> خطأ
                            </div>
                        </div>
                    `;
                } else {
                    // MCQ Logic
                    optionsHtml = `<div class="space-y-3">`;
                    q.options.forEach((opt, idx) => {
                        let optClass = '';
                        if (isAnswered) {
                            if (idx === q.correct) optClass = 'correct-answer';
                            else if (idx === answeredData.selected && idx !== q.correct) optClass = 'wrong-answer';
                            else optClass = 'opacity-50';
                        }

                        optionsHtml += `
                            <div onclick="${!isAnswered ? `handleAnswer(${q.id}, ${idx})` : ''}"
                                class="option-card p-3 rounded-lg border-2 border-gray-100 flex items-center ${optClass} ${isAnswered ? 'cursor-default' : ''}">
                                <div class="w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center ml-3 text-sm font-bold text-gray-600 shrink-0">
                                    ${String.fromCharCode(65 + idx)}
                                </div>
                                <span>${opt}</span>
                            </div>
                        `;
                    });
                    optionsHtml += `</div>`;
                }

                // Image Logic
                const imageHtml = q.image ? `<div class="mb-4 text-center"><img src="${q.image}" alt="Question Image" class="max-w-full h-auto rounded-lg shadow-sm mx-auto border border-gray-200"></div>` : '';

                // Explanation Logic
                const explanationHtml = isAnswered ? `
                    <div class="mt-4 p-4 bg-blue-50 rounded-lg border-r-4 border-blue-500 text-sm text-blue-900 fade-in">
                        <strong class="block mb-1"><i class="fas fa-info-circle ml-1"></i> التفسير:</strong>
                        ${q.exp}
                    </div>
                ` : '';

                return `
                    <div id="q-${q.id}" class="glass-panel p-6 rounded-2xl mb-6 relative">
                        <div class="absolute top-4 left-4 text-xs font-bold text-gray-400">سؤال ${q.id}</div>
                        <h3 class="text-lg font-bold text-gray-800 mb-4 pr-6">${q.q}</h3>
                        ${imageHtml}
                        ${optionsHtml}
                        ${explanationHtml}
                    </div>
                `;
            }).join('');

            app.innerHTML = `
                <div class="w-full max-w-2xl fade-in pb-20">
                    <div class="flex items-center justify-between mb-6">
                        <button onclick="renderHome()" class="text-gray-500 hover:text-indigo-600 font-bold transition">
                            <i class="fas fa-arrow-right ml-1"></i> خروج
                        </button>
                        <h2 class="text-2xl font-bold text-indigo-700">${titleMap[type]}</h2>
                    </div>
                    
                    <div class="mb-6 text-center text-sm font-bold text-gray-500">
                         إعداد: عبدالرحمن احمد محمد 780
                    </div>

                    ${questionsHtml}

                    <div class="fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 p-4 shadow-lg flex justify-center z-50">
                        <button onclick="finishExam('${type}')" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-12 rounded-full shadow-lg transition transform hover:-translate-y-1">
                            تسليم الامتحان <i class="fas fa-check-circle mr-2"></i>
                        </button>
                    </div>
                </div>
            `;
        }

        window.handleAnswer = function(qId, selectedVal) {
            // Find question
            const q = currentExam.find(item => item.id === qId);
            if (!q) return;

            // Check correctness
            let isCorrect = false;
            if (q.type === 'tf') {
                isCorrect = (selectedVal === q.ans);
            } else {
                isCorrect = (selectedVal === q.correct);
            }

            // Save state
            answers[qId] = { selected: selectedVal, isCorrect: isCorrect };

            const card = document.getElementById(`q-${qId}`);
            if (card) {
                // Determine classes
                if (q.type === 'tf') {
                    const btns = card.querySelectorAll('.option-card');
                    // 0 is True, 1 is False (based on order in HTML)
                    const trueBtn = btns[0];
                    const falseBtn = btns[1];

                    trueBtn.classList.add(q.ans === true ? 'correct-answer' : (selectedVal === true ? 'wrong-answer' : 'opacity-50'));
                    falseBtn.classList.add(q.ans === false ? 'correct-answer' : (selectedVal === false ? 'wrong-answer' : 'opacity-50'));
                    
                    trueBtn.onclick = null; falseBtn.classList.remove('cursor-pointer');
                    falseBtn.onclick = null; trueBtn.classList.remove('cursor-pointer');
                    trueBtn.classList.add('cursor-default');
                    falseBtn.classList.add('cursor-default');

                } else {
                    const opts = card.querySelectorAll('.option-card');
                    opts.forEach((opt, idx) => {
                        opt.onclick = null;
                        opt.classList.remove('cursor-pointer');
                        opt.classList.add('cursor-default');
                        if (idx === q.correct) {
                            opt.classList.add('correct-answer');
                        } else if (idx === selectedVal) {
                            opt.classList.add('wrong-answer');
                        } else {
                            opt.classList.add('opacity-50');
                        }
                    });
                }

                // Append Explanation
                const expDiv = document.createElement('div');
                expDiv.className = 'mt-4 p-4 bg-blue-50 rounded-lg border-r-4 border-blue-500 text-sm text-blue-900 fade-in';
                expDiv.innerHTML = `<strong class="block mb-1"><i class="fas fa-info-circle ml-1"></i> التفسير:</strong>${q.exp}`;
                card.appendChild(expDiv);
            }
        };

        window.finishExam = function(type) {
            const total = currentExam.length;
            if (total === 0) return; // Safety check

            let correctCount = 0;
            let wrongQuestions = [];

            currentExam.forEach(q => {
                if (answers[q.id] && answers[q.id].isCorrect) {
                    correctCount++;
                } else {
                    // Wrong or Unanswered
                    wrongQuestions.push(q.id);
                }
            });

            const score = Math.round((correctCount / total) * 100);
            let message = "";
            let color = "";
            
            if (score >= 85) { message = "ممتاز!"; color = "text-green-600"; }
            else if (score >= 50) { message = "جيد، استمر!"; color = "text-yellow-600"; }
            else { message = "تحتاج للمزيد من المذاكرة"; color = "text-red-600"; }

            app.innerHTML = `
                <div class="glass-panel p-8 rounded-2xl w-full max-w-md text-center fade-in">
                    <div class="mb-6">
                        <i class="fas fa-award text-6xl ${color} mb-4"></i>
                        <h2 class="text-3xl font-bold text-gray-800 mb-2">النتيجة</h2>
                        <div class="text-5xl font-black ${color} mb-2">%${score}</div>
                        <p class="text-lg text-gray-500">${message}</p>
                    </div>

                    <div class="bg-gray-50 rounded-xl p-4 mb-6 text-right">
                        <h3 class="font-bold text-gray-700 mb-2 border-b pb-2">تفاصيل:</h3>
                        <p>عدد الأسئلة: <span class="font-bold">${total}</span></p>
                        <p>الإجابات الصحيحة: <span class="font-bold text-green-600">${correctCount}</span></p>
                        <p>الإجابات الخاطئة: <span class="font-bold text-red-600">${wrongQuestions.length}</span></p>
                    </div>

                    ${wrongQuestions.length > 0 ? `
                        <div class="mb-6">
                            <h3 class="font-bold text-red-600 mb-2 text-right">أرقام الأسئلة الخاطئة:</h3>
                            <div class="flex flex-wrap gap-2 justify-center max-h-40 overflow-y-auto">
                                ${wrongQuestions.map(id => `<span class="bg-red-100 text-red-800 px-3 py-1 rounded-full text-sm font-bold border border-red-200">${id}</span>`).join('')}
                            </div>
                        </div>
                    ` : ''}

                    <div class="flex gap-4">
                        <button onclick="renderHome()" class="flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-3 px-4 rounded-xl transition">
                            الرئيسية
                        </button>
                        <button onclick="startExam('${type}')" class="flex-1 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-xl transition">
                            إعادة الامتحان
                        </button>
                    </div>
                </div>
            `;
        }

        // Initialize
        renderHome();

    </script>
</body>
</html>
